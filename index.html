<!doctype html>
<html lang="ku" dir="rtl">
 <head>
  <meta charset="UTF-8">
  <title>College Attendance System</title>
  <style>
    /* ğŸ¨ Professional Color Palette */
    :root {
        --primary-color: #3A74E9; /* Deep Blue for header/buttons */
        --secondary-color: #333;   /* Dark Text */
        --background-light: #f4f7f6;
        --present-color: #4CAF50; /* Green */
        --absent-color: #F44336;  /* Red */
        --unmarked-color: #000000; /* Black for Unmarked */
        /* Deeper Background Colors for Rows */
        --present-bg: #d9ead3; /* Light Green */
        --absent-bg: #f4cccc;  /* Light Red */
        --unmarked-bg: #e0e0e0; /* Light Gray for Unmarked */
        --card-bg: #fff;
        --off-day-color: #D32F2F; /* Darker Red for Off Day */
        /* â­ NEW: Active filter border color (same as primary for total) */
        --active-filter-border: var(--primary-color); 
        --active-present-border: var(--present-color);
        --active-absent-border: var(--absent-color);
        --active-unmarked-border: var(--unmarked-color);
        /* â­ NEW: Color for the Absents Box */
        --absents-box-color: #795548; /* Brown/Earth Tone for the "Absents" box label */
        /* â­ NEW: Custom Red for the Border/Icon */
        --absents-box-red: #F44336; /* Using the same red as absent */
        /* â­ NEW: Custom Gray for Absent Weekly Cards */
        --absent-card-bg: #e9e9e9; 
    }

    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: var(--background-light);
        margin: 0;
        padding: 0;
        color: var(--secondary-color);
    }
    header {
        background: var(--primary-color);
        color: white;
        padding: 20px 4px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    
    .logo{
      order:2;
      display:flex;
      justify-content:center;
      align-items:center;
      gap:10px;
      
      flex-wrap:nowrap;
    }
    
     .logo h1 {
        margin: 0;
        font-size: 18px;
        font-weight: 600;
        white-space: nowrap;  
        min-width: 0; 
        margin-right:10px;   
    }
        
      
    #dateContainer {
        display: flex;
        align-items: center;
        justify-content: left;
        cursor: pointer;
        padding: 4px 6px;
        position: relative;
        background-color: rgba(255, 255, 255, 0.1);
        border-radius:9px;
        order:1;
        white-space: nowrap;  
        transition: background-color 0.3s; /* Added transition */
        margin-right: 15px;
        
    }
    
     .dropdown-icon{
      
      justify-content: right;
      margin-top:4px;
      
      
    }
    
    /* â­ NEW/MODIFIED CSS: Red background for Off Day in the header */
    #dateContainer.off-day-display {
       background-color:#ff5757;
       padding: 4px 6px;
         
        
      
    }

    /* â­ END NEW/MODIFIED CSS */
     
    img{
      height: 36px;
      border-radius: 3px;
      margin-left: 15px;
      
     
      
    }
    
   
    
    #dateDisplay {
        font-size: 18px;
        font-weight: 300;
        margin-right: 10px;
    }
    #dateDropdownList {
        display: none;
        position: absolute;
        top: 100%;
        right: 0;
        background: var(--card-bg);
        border: 1px solid #ced4da;
        border-radius: 6px;
        z-index: 100;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        margin-top: 5px;
        min-width: 200px;
        overflow-y: auto; 
        max-height: 400px;
        direction: ltr; /* Ensure dropdown list is LTR for dates */
    }
    .date-option {
        padding: 10px 15px;
        color: var(--secondary-color);
        cursor: pointer;
        border-bottom: 1px solid #f0f0f0;
        white-space: nowrap;
        
    }
    .date-option:last-child {
        border-bottom: none;
    }
   
    .date-option:hover {
        background: #004da182;
        color: white;
    }
    .date-option.selected {
        font-weight: bold;
        background-color: #034893;
        color: white;
    }
    /* Updated style for Off Day in dropdown (removed text, kept color) */
    .date-option.off-day-text {
        color: var(--off-day-color); /* Keep the red color */
        font-weight: bold;
    }
    .date-option.off-day-text.selected {
        background-color: var(--off-day-color);
        color: white;
    }

    .container {
        margin: 30px auto;
        max-width: 1000px;
        background: var(--card-bg);
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    
    /* â­ NEW: Hiding the main container when the history view is active */
    .container.hidden {
        display: none;
    }


    /* ğŸ“Š Attendance Summary Box */
    #summaryStats {
        display: flex;
        justify-content: space-around;
        gap: 15px;
        margin-bottom: 25px;
        padding: 15px;
        background: #f0f4f7;
        border-radius: 8px;
        border-left: 5px solid var(--primary-color);
    }
    .stat-card {
        text-align: center;
        flex-grow: 1;
        padding: 10px;
        border-radius: 6px;
        transition: background-color 0.2s, border 0.2s, box-shadow 0.2s;
    }
    /* â­ MODIFIED: Clickable card styling for locked view */
    .stat-card.stat-card-clickable {
        cursor: pointer;
        border: 1px solid transparent;
    }
    
    /* â­ FIX: Only apply hover effect if the card is NOT the active filter */
    .stat-card.stat-card-clickable:not(.active-filter):hover {
        background: #e9eef2;
        border: 1px solid #ced4da;
    }
    
    /* â­ FIX: Active filter styling with a proper colored border */
    .stat-card.active-filter {
        border: 1.8px solid var(--active-filter-border); /* Default to primary-color (total) */
        background-color: #e9eef2; /* Keep a slightly different background */
        box-shadow: 0 0 2px rgba(58, 116, 233, 0.5); /* Slight glow for emphasis */
    }
    
    /* Specific Active Filter Colors */
    .stat-card.stat-present.active-filter {
        border-color: var(--active-present-border);
        box-shadow: 0 0 2px rgba(76, 175, 80, 0.5);
    }
    .stat-card.stat-absent.active-filter {
        border-color: var(--active-absent-border);
        box-shadow: 0 0 2px rgba(244, 67, 54, 0.5);
    }
    .stat-card.stat-unmarked.active-filter {
        border-color: var(--active-unmarked-border);
        box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);
    }


    .stat-card h3 {
        margin: 0 0 5px 0;
        font-size: 14px;
        color: #666;
    }
    .stat-card p {
        font-size: 24px;
        font-weight: bold;
        margin: 0;
    }
    .stat-present p { color: var(--present-color); }
    .stat-absent p { color: var(--absent-color); }
    .stat-total p { color: var(--primary-color); }
    /* â­ NEW: Unmarked stat color */
    .stat-unmarked p { color: var(--unmarked-color); }

    /* Selector Container for Subject, Group, and Absents */
    #selectors {
        /* â­ MODIFIED: Use flex-start and gap for layout */
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
        justify-content: flex-start; 
    }

    
    .selector-box {
        background: #e9ecef;
        padding: 12px 15px;
        font-size: 18px;
        border-radius: 8px;
        cursor: pointer;
        width:100%;
        border: 1px solid #ced4da;
        display: flex;
        justify-content: flex-start;
        align-items: center;
        position: relative;
        /* â­ MODIFIED: Set equal flex-grow for all three boxes */
        flex-grow: 1; 
        
    }

    .selector-list {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: var(--card-bg);
        border: 1px solid #ced4da;
        border-radius: 8px;
        z-index: 10;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        margin-top: 5px;
        max-height: 250px; /* Limit height for selector lists */
        overflow-y: auto;
    }

    /* â­ MODIFIED: Adjusted order for R-L layout */
    /* Subject box (right side in RTL layout) */
    #subjectBox {
        position: relative;
        background-color: white;
        order: 3; /* Rightmost box in RTL */
    }
    
    /* Group box (center in RTL layout) */
    #groupBox {
        position: relative;
        background-color: white;
        order: 2; /* Center box in RTL */
    }

    /* â­ MODIFIED: Absents box (left side in RTL layout) */
    #absentsBox {
        position: relative;
        background-color: white;
        order: 1; 

        justify-content: center;
        text-align: center;
        font-weight: bold;
        border: 1px solid var(--absents-box-red); 
        color: #F44336; 
      transition: border 0.1s;
        
    }
     #absentsBox:hover{
       border:1.8px solid var(--absents-box-red); 
     }
     
    /* â­ NEW: Style for the Red Border when Active */
    #absentsBox.active-box-red-border {
         border: 2px solid var(--absents-box-red) !important;
    }


    /* â­ MODIFIED: Using flex-direction: row-reverse to swap the visual order */
    .selector-option {
        padding: 12px 15px;
        cursor: pointer;
        border-bottom: 1px solid #f0f0f0;
        /* text-align: left; -> REMOVED as flex is used */ 
        
        /* â­ NEW/MODIFIED: Added flex for checkmark positioning and row-reverse */
        display: flex; 
        justify-content: space-between;
        align-items: center;
        flex-direction: row-reverse; 
    }
    .selector-option:last-child {
        border-bottom: none;
    }
    .selector-option:hover {
        background: #004da182;
        color: white;
        font-weight: bold;
    }

    /* â­ MODIFIED: Style for the checkmark icon - adjusted margin */
    .checkmark-icon {
        width: 18px;
        height: 18px;
        flex-shrink: 0; /* Prevents it from shrinking */
        /* â­ MODIFIED: Spacing from group name, now on the right side of the item */
        margin-right: 5px; 
    }

    /* Student list */
    #studentsList {
        min-height: 200px; /* Ensure space when list is empty */
    }
    .student-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 20px;
        background: #fafafa;
        border-bottom: 1px solid #e0e0e0;
        border-radius: 8px;
        margin-top: 10px;
        transition: all 0.3s ease;
        font-size: 16px;
        font-weight: 500;
    }

    /* â­ NEW: Styles for Read-Only Filtered Rows */
    .student-row.read-only-filter {
        pointer-events: none; /* Disable interaction */
        opacity: 1; /* Keep visibility high */
    }
    .student-row.read-only-filter .btn {
        display: none; /* Hide buttons in read-only filter mode */
    }
    .student-row.read-only-filter span {
        cursor: default !important;
    }
    /* END NEW STYLES */


    .student-row span {
        flex-grow: 1;
        padding-inline-end: 15px;
        transition: background-color 0.2s;
    }
    .student-row span[style*="cursor: pointer"] {
        cursor: pointer;
    }

    .present { background: var(--present-bg) !important; border-right: 5px solid var(--present-color); }
    .absent { background: var(--absent-bg) !important; border-right: 5px solid var(--absent-color); }
    .unmarked { background: var(--unmarked-bg) !important; border-right: 5px solid var(--unmarked-color); } /* â­ NEW: Unmarked row style */

    .locked-row {
        opacity: 0.7;
        cursor: not-allowed;
    }

    .btn {
        padding: 8px 16px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        color: white;
        font-size: 15px;
        margin-left: 8px;
        transition: background-color 0.2s;
        display: inline-flex;
        align-items: center;
        gap: 5px;
    }
    /* Buttons only visible/active for the current, unlocked day */
    .present-btn { background: var(--present-color); }
    .present-btn:hover { background: #45a049; }

    .absent-btn { background: var(--absent-color); }
    .absent-btn:hover { background: #e53935; }

    .message-center {
        text-align: center;
        padding: 50px 0;
        font-size: 20px;
        font-weight: bold;
        color: #777;
    }
    /* Modified style for Off Day message: Removed border/background, kept red color */
    .off-day-message {
        color: var(--off-day-color);
        font-weight: bold;
        text-align: center;
        padding: 50px 0;
        font-size: 22px;
        
        border-radius: 8px;
    }


    .lockedMessage {
        color: var(--absent-color);
        font-weight: bold;
        text-align: center;
        margin-top: 25px;
        font-size: 18px;
    }
    
    /* â­ NEW: Container for Centering the Filter Message */
    .list-message-center {
        display: flex;
        justify-content: center; /* Center horizontally */
        align-items: center; /* Center vertically */
        height: 300px; /* Give it a fixed height to show the centering effect */
        text-align: center;
    }
    
    /* â­ MODIFIED: Styling for Filter Message (removed margin-top) */
    .filter-message {
        color: var(--primary-color);
        font-weight: bold;
        font-size: 20px;
        padding: 20px;
        margin: 0; 
    }


    .saveBtn {
        background: var(--primary-color);
        padding: 14px 25px;
        border-radius: 8px;
        color: white;
        border: none;
        cursor: pointer;
        font-size: 18px;
        font-weight: 600;
        margin-top: 30px;
        display: block;
        width: 40%;
        margin-left: auto;
        margin-right: auto;
        box-shadow: 0 4px 10px rgba(0, 77, 153, 0.3);
        transition: background-color 0.2s;
    }
    .saveBtn:hover {
        background: #003366;
    }

    .stage-system {
        color: #999;
        font-size: 12px;
        text-align: center;
        margin-top: 10px;
      
    }
    .stage-level{margin-bottom:4px;}
   .system-name{margin-bottom:4px;}
   
   .group-icon{
     display: flex;
     margin-right: 10px; 
    align-items: center;
   }
   
   .dropdown-icon2{
     margin-left: 10px;
     margin-top: 4px;
   }
     
   .subject-icon{
     /* margin-right: 11px; REMOVED */
     margin-top: 4px;
     margin-right: 13px;
   }
   
   #selectedSubjectText {
    
    white-space: nowrap; 
    overflow: hidden;    
    text-overflow: ellipsis;
    min-width: 0; 
}
#selectedGroupText{
  white-space: nowrap; 
}

/* â­ NEW/MODIFIED: Dropdown icon for subject box */
.dropdown-icon-subject {
    margin-left: 10px; /* Separates icon from text */
    margin-top: 4px;
}

/* --- ABSENT STUDENTS HISTORY VIEW STYLES --- */
#absentsHistoryView {
    display: none; /* Hidden by default */
    margin: 30px auto;
    max-width: 1000px;
    padding: 30px;
    background: var(--card-bg);
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
}

#absentsHistoryView h2 {
    text-align: center;
    color: var(--absent-color);
    font-size: 24px;
    margin-bottom: 25px;
    border-bottom: 1px solid var(--absent-color);
    padding-bottom: 10px;
   margin-top: 60px;
    position: relative;
    font-weight: 800;
}


.weekly-absents-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.weekly-card {
    background-color: rgba(255, 255, 255, 0.1); 
    padding: 15px;
    border-radius: 8px;
    cursor: pointer;
    border: 1px solid #ccc;
    transition: all 0.2s ease;
    user-select: none;
    
}

.weekly-card:hover {
    
    box-shadow: 0 5px 8px rgba(0, 0, 0, 0.1);
    
}

.weekly-card-header {
    font-weight: bold;
    font-size: 18px;
    color: var(--secondary-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
    
    padding-bottom: 5px;
    margin-bottom: 10px;
}

.weekly-card-details {
    display: none; /* Hidden by default, toggled by JavaScript */
    margin-top: 10px;
    padding-top: 10px;
    border-top: 1px solid #ccc;
    font-size: 15px;
    /* Force LTR for group/subject details for better rendering */
    direction: ltl; 
    text-align: left;
}
.weekly-card-details strong {
    color: var(--absent-color);
    margin-right: 5px;
}


.absent-students-list-inner {
    list-style: none;
    padding: 0;
    margin: 10px 0 0 0;
}
.absent-students-list-inner li {
    padding: 5px 0;
    border-bottom: 1px solid #ccc;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.absent-students-list-inner li:last-child {
    border-bottom: none;
    
}

.absent-students-list-inner .student-name {
    /* Student names are RTL */
    direction: rtl; 
    text-align: right;
    font-weight: 600;
    flex-grow: 1;
    
}
.absent-students-list-inner .student-context {
    
    direction: ltl; 
    text-align: left;
    font-size: 12px;
    color: #555;
    
}
        
        
        
    .back-button-icon:hover {
        transform: scale(1.1);    
    }
  

    #absentsHistoryView {
        position: relative;
        
    }
   
#absentsBox{

</style>
 </head>
 <body>
  <header>
   <div class="logo">
    <h1>HMU - College of Medicine</h1>
    <img src="https://files.catbox.moe/pfd27s.jpg">
   </div>
   <div id="dateContainer" onclick="toggleDateDropdown()">
    <div class="dropdown-icon" style="margin-left:15px; flex-grow: 1; text-align: right;">
     <span>
      <svg width="24px" height="24px" viewbox="-4.08 -4.08 32.16 32.16" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#000000" stroke-width="0.00024000000000000003">
       <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
       <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.048"></g>
       <g id="SVGRepo_iconCarrier">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M4.29289 8.29289C4.68342 7.90237 5.31658 7.90237 5.70711 8.29289L12 14.5858L18.2929 8.29289C18.6834 7.90237 19.3166 7.90237 19.7071 8.29289C20.0976 8.68342 20.0976 9.31658 19.7071 9.70711L12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L4.29289 9.70711C3.90237 9.31658 3.90237 8.68342 4.29289 8.29289Z" fill="#ffffff"></path>
       </g>
      </svg>
     </span>
    </div>
    <div id="dateDisplay"></div>
    <span style="margin-right:7px;margin-top:4px;">
     <svg width="22px" height="22px" viewbox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg">
      <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
      <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
      <g id="SVGRepo_iconCarrier">
       <path d="M20 10V7C20 5.89543 19.1046 5 18 5H6C4.89543 5 4 5.89543 4 7V10M20 10V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V10M20 10H4M8 3V7M16 3V7" stroke="#ffffff" stroke-width="2" stroke-linecap="round"></path>
       <rect x="6" y="12" width="3" height="3" rx="0.5" fill="#ffffff"></rect>
       <rect x="10.5" y="12" width="3" height="3" rx="0.5" fill="#ffffff"></rect>
       <rect x="15" y="12" width="3" height="3" rx="0.5" fill="#ffffff"></rect>
      </g>
     </svg>
    </span>
    <div id="dateDropdownList">
    </div>
   </div>
  </header>
  
  
  

  
    <div id="absentsHistoryView">
    
    
   
      <svg onclick="closeHistoryView()" class="back-button-icon" fill="#000000" width="24px" height="24px" viewBox="-217.44 -317.44 1658.88 1658.88" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M799.584 440.059L498.23 111.547c-24.354-28.708-20.825-71.724 7.883-96.078s71.724-20.825 96.078 7.883l400.744 436.859a67.846 67.846 0 0113.784 20.022 68.03 68.03 0 015.977 29.488l-.001.063a68.343 68.343 0 01-7.265 29.134 68.28 68.28 0 01-1.384 2.6 67.59 67.59 0 01-10.102 13.687L592.545 999.061c-25.592 27.611-68.721 29.247-96.331 3.656s-29.247-68.721-3.656-96.331L798.423 576.39H67.963c-37.647 0-68.166-30.519-68.166-68.166s30.519-68.166 68.166-68.166h731.621z"></path></g></svg>
   

    <h2>Absent Students for each week</h2>
    <div id="weeklyAbsentsContent" class="weekly-absents-list">
        <div class='message-center' style='padding-top: 10px;'>No past weeks with saved attendance found.</div>
    </div>
  </div>


  
  
  <div class="container" id="mainAttendanceView">
   <div id="selectors">
    
    <div id="subjectBox" class="selector-box" onclick="toggleSubjects()">
     
     <div class="dropdown-icon-subject">
      <span>
       <svg width="20px" height="20px" viewbox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#000000" stroke-width="0.00024000000000000003">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.048"></g>
        <g id="SVGRepo_iconCarrier">
         <path fill-rule="evenodd" clip-rule="evenodd" d="M4.29289 8.29289C4.68342 7.90237 5.31658 7.90237 5.70711 8.29289L12 14.5858L18.2929 8.29289C18.6834 7.90237 19.3166 7.90237 19.7071 8.29289C20.0976 8.68342 20.0976 9.31658 19.7071 9.70711L12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L4.29289 9.70711C3.90237 9.31658 3.90237 8.68342 4.29289 8.29289Z" fill="#000000"></path>
        </g>
       </svg>
      </span>
     </div>
     
     <span id="selectedSubjectText" style="flex-grow: 1; text-align: left;"></span>
     
     
     <div class="subject-icon">
      <span>
       <svg width="21px" height="21px" viewbox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
         <title>content / 19 - content, clipboard, document, paper, paste icon</title>
         <g id="Free-Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round">
          <g transform="translate(-303.000000, -304.000000)" id="Group" stroke="#000000" stroke-width="2">
           <g transform="translate(301.000000, 302.000000)" id="Shape">
            <path d="M16,3.5 L16,5.5 C16,5.77614237 15.7761424,6 15.5,6 L8.5,6 C8.22385763,6 8,5.77614237 8,5.5 L8,3.5 C8,3.22385763 8.22385763,3 8.5,3 L15.5,3 C15.7761424,3 16,3.22385763 16,3.5 Z"></path>
            <path d="M16,4 L18.9669189,4 C20.0714884,4 20.9669189,4.8954305 20.9669189,6 L20.9669189,19 C20.9669189,20.1045695 20.0714884,21 18.9669189,21 L5,21 C3.8954305,21 3,20.1045695 3,19 L3,6 C3,4.8954305 3.8954305,4 5,4 L8,4 L8,4"></path>
            <line x1="9" y1="11" x2="15" y2="11"></line>
            <line x1="9" y1="15" x2="12" y2="15"></line>
           </g>
          </g>
         </g>
        </g>
       </svg>
      </span>
     </div>
     <div id="subjectsList" class="selector-list"></div>
    </div>
    
    <div id="groupBox" class="selector-box" onclick="toggleGroups()">
     <div class="dropdown-icon2">
      <span>
       <svg width="20px" height="20px" viewbox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#000000" stroke-width="0.00024000000000000003">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.048"></g>
        <g id="SVGRepo_iconCarrier">
         <path fill-rule="evenodd" clip-rule="evenodd" d="M4.29289 8.29289C4.68342 7.90237 5.31658 7.90237 5.70711 8.29289L12 14.5858L18.2929 8.29289C18.6834 7.90237 19.3166 7.90237 19.7071 8.29289C20.0976 8.68342 20.0976 9.31658 19.7071 9.70711L12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L4.29289 9.70711C3.90237 9.31658 3.90237 8.68342 4.29289 8.29289Z" fill="#000000"></path>
        </g>
       </svg>
      </span>
     </div>
     <span id="selectedGroupText" style="flex-grow: 1; text-align: left;"></span>
     <div class="group-icon">
      <span>
       <svg fill="#000000" width="22px" height="22px" viewbox="0 0 56 56" xmlns="http://www.w3.org/2000/svg">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
         <path d="M 38.7232 28.5490 C 43.1399 28.5490 46.9403 24.6047 46.9403 19.4690 C 46.9403 14.3949 43.1193 10.6356 38.7232 10.6356 C 34.3271 10.6356 30.5061 14.4771 30.5061 19.5101C 30.5061 24.6047 34.3066 28.5490 38.7232 28.5490 Z M 15.0784 29.0215 C 18.8994 29.0215 22.2274 25.5703 22.2274 21.1125 C 22.2274 16.6958 18.8789 13.4294 15.0784 13.4294 C 11.2575 13.4294 7.8885 16.7779 7.9090 21.1536 C 7.9090 25.5703 11.2370 29.0215 15.0784 29.0215 Z M 3.6155 47.5717 L 19.2281 47.5717 C 17.0917 44.4697 19.7006 38.2247 24.1173 34.8146 C 21.8371 33.2944 18.8994 32.1645 15.0579 32.1645 C 5.7931 32.1645 0 39.0053 0 44.6957 C 0 46.5445 1.0271 47.5717 3.6155 47.5717 Z M 25.8018 47.5717 L 51.6241 47.5717 C 54.8493 47.5717 56 46.6472 56 44.8395 C 56 39.5394 49.3644 32.2261 38.7026 32.2261 C 28.0616 32.2261 21.4262 39.5394 21.4262 44.8395 C 21.4262 46.6472 22.5766 47.5717 25.8018 47.5717"></path>
        </g>
       </svg>
      </span>
     </div>
     <div id="groupsList" class="selector-list"></div>
    </div>
    
    <div id="absentsBox" class="absents-box selector-box" onclick="toggleAbsents()">
      <span id="absentsBoxText" style="flex-grow: 1; text-align: center; color: #F44336 ; font-size: 18px;">Absents</span>
      <span style="margin-right:3px; margin-left: 0; margin-top:2px;">
        <svg fill="#ff0000" width="26px" height="26px" viewbox="0 0 32.00 32.00" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M16 15.503A5.041 5.041 0 1 0 16 5.42a5.041 5.041 0 0 0 0 10.083zm0 2.215c-6.703 0-11 3.699-11 5.5v3.363h22v-3.363c0-2.178-4.068-5.5-11-5.5z"></path></g></svg>
      </span>
    </div>
   </div>
   <div id="summaryStats">
    <div class="stat-card stat-total stat-card-clickable" onclick="filterStudents('total')">
    
    
     <h3><svg version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="26px" height="26px" viewbox="0 0 512.00 512.00" xml:space="preserve" fill="#3A74E9" stroke="#3A74E9"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <style type="text/css">  .st0{fill:#3A74E9;}  </style> <g> <path class="st0" d="M147.57,320.188c-0.078-0.797-0.328-1.531-0.328-2.328v-6.828c0-3.25,0.531-6.453,1.594-9.5 c0,0,17.016-22.781,25.063-49.547c-8.813-18.594-16.813-41.734-16.813-64.672c0-5.328,0.391-10.484,0.938-15.563 c-11.484-12.031-27-18.844-44.141-18.844c-35.391,0-64.109,28.875-64.109,73.75c0,35.906,29.219,74.875,29.219,74.875 c1.031,3.047,1.563,6.25,1.563,9.5v6.828c0,8.516-4.969,16.266-12.719,19.813l-46.391,18.953 C10.664,361.594,2.992,371.5,0.852,383.156l-0.797,10.203c-0.406,5.313,1.406,10.547,5.031,14.438 c3.609,3.922,8.688,6.125,14.016,6.125H94.93l3.109-39.953l0.203-1.078c3.797-20.953,17.641-38.766,36.984-47.672L147.57,320.188z"></path> <path class="st0" d="M511.148,383.156c-2.125-11.656-9.797-21.563-20.578-26.531l-46.422-18.953 c-7.75-3.547-12.688-11.297-12.688-19.813v-6.828c0-3.25,0.516-6.453,1.578-9.5c0,0,29.203-38.969,29.203-74.875 c0-44.875-28.703-73.75-64.156-73.75c-17.109,0-32.625,6.813-44.141,18.875c0.563,5.063,0.953,10.203,0.953,15.531 c0,22.922-7.984,46.063-16.781,64.656c8.031,26.766,25.078,49.563,25.078,49.563c1.031,3.047,1.578,6.25,1.578,9.5v6.828 c0,0.797-0.266,1.531-0.344,2.328l11.5,4.688c20.156,9.219,34,27.031,37.844,47.984l0.188,1.094l3.094,39.969h75.859 c5.328,0,10.406-2.203,14-6.125c3.625-3.891,5.438-9.125,5.031-14.438L511.148,383.156z"></path> <path class="st0" d="M367.867,344.609l-56.156-22.953c-9.375-4.313-15.359-13.688-15.359-23.969v-8.281 c0-3.906,0.625-7.797,1.922-11.5c0,0,35.313-47.125,35.313-90.594c0-54.313-34.734-89.234-77.594-89.234 c-42.844,0-77.594,34.922-77.594,89.234c0,43.469,35.344,90.594,35.344,90.594c1.266,3.703,1.922,7.594,1.922,11.5v8.281 c0,10.281-6.031,19.656-15.391,23.969l-56.156,22.953c-13.047,5.984-22.344,17.984-24.906,32.109l-2.891,37.203h139.672h139.672 l-2.859-37.203C390.211,362.594,380.914,350.594,367.867,344.609z"></path> </g> </g></svg></h3>
     
     
     <p id="totalStudentsCount"></p>
    </div>
    <div class="stat-card stat-present stat-card-clickable" onclick="filterStudents('present')">
    
    
     <h3><svg fill="#008230" width="26px" height="26px" viewbox="0 0 32.00 32.00" xmlns="http://www.w3.org/2000/svg" stroke="#008230"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M16 15.503A5.041 5.041 0 1 0 16 5.42a5.041 5.041 0 0 0 0 10.083zm0 2.215c-6.703 0-11 3.699-11 5.5v3.363h22v-3.363c0-2.178-4.068-5.5-11-5.5z"></path></g></svg></h3>
     
     
     <p id="presentCount"></p>
    </div>
    <div class="stat-card stat-absent stat-card-clickable" onclick="filterStudents('absent')">
    
    
     <h3><svg fill="#ff0000" width="26px" height="26px" viewbox="0 0 32.00 32.00" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M16 15.503A5.041 5.041 0 1 0 16 5.42a5.041 5.041 0 0 0 0 10.083zm0 2.215c-6.703 0-11 3.699-11 5.5v3.363h22v-3.363c0-2.178-4.068-5.5-11-5.5z"></path></g></svg></h3>
     
     
     <p id="absentCount"></p>
    </div>
    <div class="stat-card stat-unmarked stat-card-clickable" onclick="filterStudents('unmarked')">
    
    
     <h3><svg width="29px" height="29px" viewbox="0 0 24.00 24.00" fill="#000000" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8.5 8.5C8.5 6.56625 10.0662 5 12 5C13.9338 5 15.5 6.56625 15.5 8.5C15.5 10.4338 13.9338 12 12 12C10.0662 12 8.5 10.4338 8.5 8.5Z" fill="#000000"></path> <path d="M12 13.75C9.66375 13.75 5 14.9225 5 17.25V19H19V17.25C19 14.9225 14.3363 13.75 12 13.75Z" fill="#000000"></path> <path d="M21.4025 8.58002L21.99 9.17168L18.6567 12.505L16.99 10.8425L17.5817 10.255L18.6567 11.3259L21.4025 8.58002Z" fill="#000000"></path> </g></svg></h3>
     
     
     <p id="unmarkedCount"></p>
    </div>
   </div>
   <div class="stage-system">
   
    <div class="system-name">
     Student Attendance
    </div>
    
    <div class="stage-level">
     Stage 1 - Block 1
    </div>
   
   </div>
   <div id="studentsList"></div>
   <button class="saveBtn" onclick="saveAttendance()">SAVE &amp; LOCK ATTENDANCE FOR TODAY</button>
   <div id="statusMessage"></div>
  </div>
  <script>
/* --- CONSTANTS & INITIAL DATA --- */
const ALL_GROUPS = ['Group A', 'Group B', 'Group C', 'Group D', 'Group E', 'Group F', 'Group G', 'Group H'];

// â­ MODIFIED: Subjects List now contains all requested subjects
const ALL_SUBJECTS = [
    'Computer & health informatics',
    'Kurdology',
    'Terminology',
    'Communication skills',
    'PPD',
    'Critical thinking'
];

// Student data (abbreviated for code length)
const STUDENT_DATA_BY_GROUP = {
    'Group A': [
        { id: 'A-1', name: "Ø´Ø§Ú©Ø§Ø± Ø³ØªØ§Ø± Ø¹Ø«Ù…Ø§Ù†" }, { id: 'A-2', name: "Ø§Ø¨Ø±Ø§Ù‡ÛŒÙ… Ù…Ø­Ù…Ø¯ Ù‚Ø§Ø¯Ø±" }, { id: 'A-3', name: "Ø§Ø¨ÙˆØ¨ÙƒØ± ØµØ¯ÙŠÙ‚ Ù…Ø­Ù…Ø¯" }, { id: 'A-4', name: "Ø§Ø­Ù…Ø¯ Ø¹Ø¨Ø¯Ø§Ù„ÙˆØ§Ø­ÛŒØ¯ ÙØ±Ø­Ø§Ù†" }, { id: 'A-5', name: "Ø§Ø­Ù…Ø¯ Ù‚Ø¨Ø§Ø¯ Ø´ÛŒØ±Ø²Ø§Ø¯" },
        { id: 'A-6', name: "Ø§Ø­Ù…Ø¯ Ú©Ø§Ø¸Ù… Ø³Ø¹Ø¯Ø§Ù„Ù„Ù‡" }, { id: 'A-7', name: "Ø§Ø­Ù…Ø¯ Ù…ÙŠÙƒØ§Ø¦ÙŠÙ„ Ø³Ø¹ÙŠØ¯" }, { id: 'A-8', name: "Ø§Ú˜ÛŒÙ† ØºÛŒØ¨ Ø§Ù„Ù„Ù‡ Ø¨ÙƒØ±" }, { id: 'A-9', name: "Ø§Ø³Ø±Ø§Ø¡ Ø­Ø³ÙŠÙ† Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡" }, { id: 'A-10', name: "Ø§Ø³Ù…Ø§Ø¡ Ø¯Ø§Ø±Ø§ Ú©Ø§Ù†Ø¨ÛŒ" },
        { id: 'A-11', name: "Ø§Ø³Ù…Ø§Ø¡ Ù…Ù‡Ø¯Ù‰ ÙŠØ§Ø³ÙŠÙ†" }, { id: 'A-12', name: "Ø§ÙÙ†Ø§Ù† Ø§Ø­Ù…Ø¯ Ø¹Ù‚ÛŒÙ„" }, { id: 'A-13', name: "Ø§Ù„Ø§Ø¡ Ø³Ø±Ø¯Ø§Ø± Ø­Ø³Ù†" }, { id: 'A-14', name: "Ø§Ù…ÛŒÙ† Ù…Ø¸ÙØ± Ø­Ù…Ø¯" }, { id: 'A-15', name: "Ø§ÛŒØ§Ø¯ Ú©Ø§Ù…Ø±Ø§Ù† Ø±Ø­Ù…Ø§Ù†" },
        { id: 'A-16', name: "Ø§ÛŒÙ‡ Ú©Ø§Ù…Ø±Ø§Ù† Ø¨Ú©Ø±" }, { id: 'A-17', name: "Ø§ÛŒÙ‡ Ø³Ø±Ù‡Ø§Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ø³ØªØ§Ø±" }, { id: 'A-18', name: "Ø£Ø­Ù…Ø¯ Ø´ÙƒØ± Ø£Ø­Ù…Ø¯" }, { id: 'A-19', name: "Ø¨Ø§Ù‡ÙˆØ² Ø´ÙˆØ§Ù† ØµØ§Ø¨Ø±" }, { id: 'A-20', name: "Ø¨ÚµÙ†Ø¯ Ø¬ÙˆÙ‡Ø± Ø¹Ø«Ù…Ø§Ù†" },
        { id: 'A-21', name: "Ø¨Ù†Ø§Ø² Ù…Ø­Ù…Ø¯ Ø´Ú©Ø±" }, { id: 'A-22', name: "Ø¨Ù‡Ø±Û†Ø² Ø®ÙˆØ±Ø´ÛŒØ¯ Ø¨Ø§ÛŒØ²ÛŒØ¯" }, { id: 'A-23', name: "Ø¨Û•Ø®ØªÙŠØ§Ø± Ø§Ø¨ÙˆØ¨ÙƒØ± Ø¹Ù„ÙŠ" }, { id: 'A-24', name: "Ø¨Û•Ø®ØªÛ•ÙˆÛ•Ø± Ø³Ø±Ø¯Ø§Ø± Ø­Ø³ÛŒÙ†" }, { id: 'A-25', name: "Ø¨Û•Ú•ÛØ² Ù…ØµÙ„Ø­ Ø§Ø¨Ø±Ø§Ù‡ÛŒÙ…" },
        { id: 'A-26', name: "Ù¾Û•ÛŒØ§Ù… ÙØ®Ø±Ø§Ù„Ø¯ÛŒÙ† Ø­Ù…Û•Ø±Ø¶Ø§" }, { id: 'A-27', name: "ØªØ§Ù…Ø§Ù† Ù…Ø­Ù‰ Ø§Ù„Ø¯ÙŠÙ† ÙŠØ§Ø³ÙŠÙ†" }, { id: 'A-28', name: "Ø¬Ø§Ù†ÙŠØ§Ø± Ø£Ø­Ù…Ø¯ Ù‚Ø·Ùˆ" }, { id: 'A-29', name: "Ø¯Ø§Ù†Ø§ Ú©Ù…Ø§Ù„ Ø³Ù„ÛŒÙ…Ø§Ù†" }, { id: 'A-30', name: "Ø¯Ø§Ù†ÛŒØ§Ø± Ø¯Ù„ÛØ± Ù…Ø­Ù…Ø¯" },
        { id: 'A-31', name: "Ø±Û•Ù‡Û•Ù†Ø¯ Ù‡ÛŒÙ…Ù† Ø±Ø´Ø§Ø¯" }, { id: 'A-32', name: "Ø³Û†Ù„ÙŠÙ† Ø¹Ù„Ù‰ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡" }, { id: 'A-33', name: "Ø¹Ù„Ù‰ Ø¹Ù‚ÙŠÙ„ Ø¹Ø³ÙƒØ±" }, { id: 'A-34', name: "Ú¤Ø§Ù†Ù‡ Ù‡Ø§Ù†Ø§ Ø¹Ø¨Ø¯Ø§Ù„Ù‚Ø§Ø¯Ø±" }, { id: 'A-35', name: "Ú¤ÙŠÙ†Ø§ Ø®Ø§Ù„Ø¯ Ù…Ø­Ù…Ø¯" },
        { id: 'A-36', name: "Ú©ÛŒÙˆØ§Ù† Ù†Ø±ÛŒÙ…Ø§Ù† Ø­ÙˆÛŒØ²" }, { id: 'A-37', name: "Ù„Ø§Ú¤Ø§ Ù…Ø­Ù…ÙˆØ¯ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡" }, { id: 'A-38', name: "Ù„Ø§Ú¤Ù‡ Ø¹Ù…Ø± Ø£Ø­Ù…Ø¯" }, { id: 'A-39', name: "Ù„ÙŠØ« Ø§Ø­Ù…Ø¯ Ù†Ø§ÙŠÙ Ù…Ø­Ù…Ø¯" }, { id: 'A-40', name: "Ù„Û•Ù†ÙŠØ§ Ø³Û†Ø±Ø§Ù† Ø¹Ø¯Ù†Ø§Ù† Ø®Ø§Ù„Ø¯" },
        { id: 'A-41', name: "Ù„Û•Ù†ÙŠØ§ Ù…Ø­Ù…Ø¯ Ø§Ø­Ù…Ø¯" }, { id: 'A-42', name: "Ù„Û•Ù†ÛŒØ§ Ø¦Ø§Ø²Ø§Ø¯ Ù…ØµØ·ÙÙ‰" }, { id: 'A-43', name: "Ù…Ø­Ù…Ø¯ Ø¹Ø§Ø¯Ù„ Ø´ÛŒØ®Ù‡ Ø­Ø³Ù†" }, { id: 'A-44', name: "Ù…Ø­Ù…Ø¯ Ø¹Ø¨Ø¯Ø§Ù„ØºÙÙˆØ± Ø¨Ø§Ù¾ÛŒØ±" }, { id: 'A-45', name: "Ù…Ø­Ù…Ø¯ Ù‚Ù‡Ø§Ø± Ø¹Ù„Ù‰" },
        { id: 'A-46', name: "Ù…Ø­Ù…Ø¯ Ù…Ø­Ù…ÙˆØ¯ Ù…Ø­Ù…Ø¯" }, { id: 'A-47', name: "Ù…Ø­Ù…Ø¯ Ù‡Ú¤Ø§Úµ Ø¬ÙˆÙ‡Ø±" }, { id: 'A-48', name: "Ù…Ø±ÙˆÙ‡ Ù†Ø§Ø¯Ø± Ø®Ø¯Ø±" }, { id: 'A-49', name: "Ù…Û•Ø±ÙˆØ§ Ø¦Ø§Ø²Ø§Ø¯ Ø¹Ø§Ø¨Ø¯" }, { id: 'A-50', name: "Ù‡Û†Ù†ÙŠØ§Ø± Ù‡ÛÙ…Ù† Ø£Ø­Ù…Ø¯" },
        { id: 'A-51', name: "Ù‡ÛÙˆØ± Ù‡ÛØ±Ø´ Ù†Ø§Ù…Ù‚" }, { id: 'A-52', name: "ÙˆÙØ§Ø¡ Ø¬Ø¨Ø±Ø§Ø¦ÙŠÙ„ Ø§Ø­Ù…Ø¯" }, { id: 'A-53', name: "ÙŠØ­ÙŠÙ‰ Ø­ÙƒÙŠÙ… Ø§ÙƒØ±Ù…" }, { id: 'A-54', name: "ÛŒØ§Ø¯ Ø­Ø³ÛŒÙ† Ø§Ø­Ù…Ø¯" }, { id: 'A-55', name: "Ø¦Ø§Ø±ÛŒ Ø³Ø§Ù„Ù… Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡" },
        { id: 'A-56', name: "Ø¦Ø§Ù„ÛŒÙ† Ø³ÛŒØ±ÙˆØ§Ù† Ø³Ù„ÛÙ…Ø§Ù†" }
    ],
        'Group B': [
        { id: 'B-1', name: "Ø¯Ø§ÚµØ§Ù† ØµÚµØ§Ø­ Ø·ÙŠØ¨" }, { id: 'B-2', name: "Ø§Ø­Ù…Ø¯ Ø§Ø²Ø§Ø¯ Ø¹Ø¨Ø¯Ø§Ù„" }, { id: 'B-3', name: "Ø§Ø­Ù…Ø¯ Ù…Ø­Ø³Ù† Ø¬Ù…ÙŠÙ„" }, { id: 'B-4', name: "Ø§ÛŒÙ…Ø§Ù† Ù‚Ø·Ø¨ Ø§Ù„Ø¯ÙŠÙ† Ø¬Ù…ÙŠÙ„" }, { id: 'B-5', name: "Ø§ÙŠÙ…Ù† Ø§ÛŒØ§Ø¯ Ø§Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯" },
        { id: 'B-6', name: "Ø¨Ø§Ù‡Û† Ù…Ø­Ù…Ø¯ Ø±Ø³Ùˆ" }, { id: 'B-7', name: "Ø¨ÛŒÚ˜Ø§Ù† Ø§Ø±Ø§Ù… Ù…Ø­Ù…Ø¯" }, { id: 'B-8', name: "Ø¨ÛŒÙ†Ø§ Ø¦Ø§Ø²Ø§Ø¯ Ø­Ù…Ø¯" }, { id: 'B-9', name: "Ø¨Û•ÚµÛÙ† ÛŒÙˆÙ†Ø³ ÙˆÙ„ÛŒ" }, { id: 'B-10', name: "Ø¨Û•Ù†Ø¯Û•Ø± Ø±Û•Ù†Ø¬Ø¨Û•Ø± Ù†ÙˆØ±ÛŒ" },
        { id: 'B-11', name: "Ù¾ÙˆØ´ÙˆÛ•Ø± Ø­Ù…Ø¯Ø§Ù…ÛŒÙ† Ø¹Ù…Ø±" }, { id: 'B-12', name: "Ù¾Û•Ù†Ø§ Ù…Ù‡Ø¯ÛŒ Ø´Ø±ÛŒÙ" }, { id: 'B-13', name: "Ù¾Û•ÛŒØ§Ù… Ø¹Ø±ÙØ§Ù† Ø®Ø¶Ø±" }, { id: 'B-14', name: "ØªØ§Ø±Ø§ Ù‚ÙˆØ±Ø¨Ø§Ù†ÙŠ Ù…Ø­Ù…Ø¯" }, { id: 'B-15', name: "ØªØ±ÙŠØ³ÙƒÙ‡ Ø³Ù„ÙŠÙ… Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„" },
        { id: 'B-16', name: "ØªÛ•Ù…Û•Ù† Ú©Ø§Ø±ÙˆØ§Ù† Ø¹Ø²ÛŒØ²" }, { id: 'B-17', name: "Ø¬Ù†Ù‡ Ø±Ø§Ø¦Ø¯ ØµÙ„Ø§Ø­" }, { id: 'B-18', name: "Ú†Ø§ÙˆØ§Ù† Ø¨Û•Ø±Ø²Ø§Ù† Ø¹Ø²ÛŒØ²" }, { id: 'B-19', name: "Ø®Û•Ù„Ø§Øª Ù…Ø¹Ø±ÙˆÙ ØºÙÙˆØ±" }, { id: 'B-20', name: "Ø®Û•Ù†Ø¯Ù‡ ØµÙ„Ø§Ø­ ÛŒØ§Ø³ÛŒÙ†" },
        { id: 'B-21', name: "Ø®Û•Ù†Ø¯Ù‡ ÛŒØ§Ø³ÛŒÙ† Ø¹Ù…Ø±" }, { id: 'B-22', name: "Ø¯Ø§Ù„ÙŠØ§ Ù†Ø§ØµØ­ Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ…" }, { id: 'B-23', name: "Ø¯Ø§Ù†Ø§ Ø¸Ø§Ù‡ÙŠØ± Ø¹Ù…Ø±" }, { id: 'B-24', name: "Ø¯Ø§Ù†Ø§Ø² Ù‡Ù‚Ø§Ù„ Ø§Ø­Ù…Ø¯" }, { id: 'B-25', name: "Ø¯Ø§Ù†ÙŠÙ‡ Ø¹Ø«Ù…Ø§Ù† Ø§Ø¨ÙˆØ¨Ú©Ø±" },
        { id: 'B-26', name: "Ø¯Ø±Ø¨Ø§Ø² Ù†Ø¬Ù… Ø§Ù„Ø¯ÛŒÙ† Ø¹Ø¨Ø¯Ø§Ù„Ú©Ø±ÛŒÙ…" }, { id: 'B-27', name: "Ø¯ÚµØ§Ù† Ø¬Ø¹ÙØ± Ø³Ø¹ÙŠØ¯" }, { id: 'B-28', name: "Ø±Ø§Ø³ØªÛŒ Ø·Ø§Ù„Ø¨ ØµØ§Ø¨Ø±" }, { id: 'B-29', name: "Ú•ÛÙ†Ù…Ø§ Ø­Ø³ÙŠÙ† Ø­Ø³Ù†" }, { id: 'B-30', name: "Ú•Û•ÙˆÛ•Ø² Ù…Ø­Ù…Ø¯ Ù…Ø­Ù…ÙˆØ¯" },
        { id: 'B-31', name: "Ú˜ÛŒØ§ Ø§Ø¨Ø±Ø§Ù‡ÛŒÙ… Ù…Ø­Ù…Ø¯" }, { id: 'B-32', name: "Ú˜ÛŒÙ„Ù‡ Ø§Ø´Ø¯Ø± Ø¹Ù„Ù‰" }, { id: 'B-33', name: "Ú˜ÛŒÙ…Ø§Ù† Ø²Ù‡ÛŒØ± Ù…Ø­Ù…Ø¯" }, { id: 'B-34', name: "Ø³Ø§Ø±Ù‡ Ù„Ø·ÙŠÙ Ù…Ø­Ù…Ø¯" }, { id: 'B-35', name: "Ø³ÙˆÙƒØ§Ø± ÙØ¤Ø§Ø¯ Ù‚Ø§Ø¯Ø±" },
        { id: 'B-36', name: "Ø³Û•Ù‡Û•Ù†Ø¯ Ø³Û•Ø±Ø¯Ø§Ø± Ø·ÙŠØ¨" }, { id: 'B-37', name: "Ø´Ø§Ù†ÙŠØ§ Ù…ØºØ¯ÙŠØ¯ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡" }, { id: 'B-38', name: "Ø´Û•Ù¾Û†Ù„ Ø¹Ø¨Ø¯Ù„ Ù…Ø§Ù…Ù‡" }, { id: 'B-39', name: "Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ù…Ø¬Ø§Ø² Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù†" }, { id: 'B-40', name: "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø³ÙŠØ±ÙˆØ§Ù† Ø¹Ø¨Ø¯Ø§Ù„Ø³ØªØ§Ø±" },
        { id: 'B-41', name: "Ú¤Ø§Ù†ÙŠØ§ Ø¦Ø§Ø±Ø§Ù… Ø¬Ù…Ø§Ù„" }, { id: 'B-42', name: "Ù‚Ø¨Ø³ Ù…Ø­Ù…Ø¯ Ú©Ù…Ø§Ù„" }, { id: 'B-43', name: "ÙƒØ§Ù†ÙŠ ÙØ±Ø­Ø§Ù† Ø¹Ø¨Ø¯Ø§Ù„ÙØªØ§Ø­" }, { id: 'B-44', name: "Ù„Ø§Ù†Ø§ Ù‚Ø§Ø³Ù… Ù…Ø­Ù…Ø¯" }, { id: 'B-45', name: "Ù…Ø£ÙˆÙ‰ ÙØ±Ù‡Ø§Ø¯ Ø´Ø±Ù Ø§Ù„Ø¯ÙŠÙ†" },
        { id: 'B-46', name: "Ù…Ø­Ù…Ø¯ ØµØ§Ù„Ø­ Ø­Ú©Ù…Øª" }, { id: 'B-47', name: "Ù…Ø­Ù…Ø¯ Ù†Û•Ø¨Û•Ø² Ù…Ø­Ù…Ø¯" }, { id: 'B-48', name: "Ù…Ø±ÛŒÙ… Ø¯ÛŒØ§Ø± ØµÙ„Ø§Ø­ Ø§Ù„Ø¯ÙŠÙ†" }, { id: 'B-49', name: "Ù…ÙŠÙ„Ø§Ù†Ùˆ Ø¹Ø¯Ù†Ø§Ù† Ø£Ù†ÙˆØ±" }, { id: 'B-50', name: "Ù‡Ø§ÙˆØªØ§ Ø¹Ù…Ø± Ú•Ø³ÙˆÙˆÙ„" },
        { id: 'B-51', name: "Ø¦Ø§Ø±ÛŒÙ† Ø¨Û•Ø´Ø§Ø± Ù‚Ø§Ø¯Ø±" }, { id: 'B-52', name: "Ø¦Ø§Ú©Ø§Ù… Ø³Ù…ÙŠØ± Ø§Ø¨ÙˆØ²ÛŒØ¯" }, { id: 'B-53', name: "Ø¦Ø§Ù„ÙŠÙ† Ø¹Ø«Ù…Ø§Ù† Ù…Ø­Ù…Ø¯" }
    ],
    
    'Group C': [
        { id: 'C-1', name: "Ø§Ø­Ù…Ø¯ ÙÙˆØ§Ø¯ Ù‚Ø§Ø¯Ø±" }, { id: 'C-2', name: "Ø§Ù„Ù†Ø¯ Ø¹ÙØ§Ù† Ø¹Ø¨Ø¯Ø§Ù„Ø­Ù…ÙŠØ¯" }, { id: 'C-3', name: "Ø§ÛŒÙ…Ø§Ù† Ø§Ø±Ø§Ù… Ø±Ø³ÙˆÙ„" }, { id: 'C-4', name: "Ø§ÛŒÙ‡Ù… Ø²ÙŠØ§Ø¯ Ø·Ø§Ø±Ù‚" }, { id: 'C-5', name: "Ø§ÛŒÙ‡ Ù…Ø­Ù…Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ø­Ù…ÙŠØ¯" },
        { id: 'C-6', name: "Ø§ÛŒÙ‡ Ù…ÛŒØ³Ø± Ú©Ø§Ø¸Ù…" }, { id: 'C-7', name: "Ø¨Ø§Ø±Ø§Ù† Ø´ÛØ±ÙƒÛ† Ø±Ø­Ù…Ø§Ù†" }, { id: 'C-8', name: "ØªÙŠÙ†Ø§ Ø±Ø­ÙŠÙ… ÙØ±Ø¬" }, { id: 'C-9', name: "ØªÛ•Ù…Û•Ù† Ù‡ÛŒÙ…Ù† Ø®Ø§Ù„Ø¯" }, { id: 'C-10', name: "Ø¯Ù„Ø§Ù† Ø¦Ø§Ù„Ø§Ù† Ø­Ø³ÙŠÙ†" },
        { id: 'C-11', name: "Ø¯ÛŒÙ…Ø§ Ø³Ù†Ø§Ø± Ø³Ù„ÛÙ…Ø§Ù†" }, { id: 'C-12', name: "Ø±Ø§Ù†ÙŠÙ‡ Ø¹Ù„Ø§Ø¡ ÙƒØ§Ø¸Ù…" }, { id: 'C-13', name: "Ø±ÛØ²Ø§Ù† ÙØ®Ø±Ø§Ù„Ø¯ÛŒÙ† Ù…Ø­Ù…Ø¯" }, { id: 'C-14', name: "Ú•Û•Ù‡ÛÚµ Ø³ÙŠÙ Ø§Ù„Ø¯ÙŠÙ† ØµØ§Ù„Ø­" }, { id: 'C-15', name: "Ú•Û•Ù‡Û•Ù†Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ù‚Ø§Ø¯Ø± Ø­Ø³ÛŒÙ†" },
        { id: 'C-16', name: "Ú•Û†Ú˜ Ø¹Ø¨Ø¯ Ø§Ù„ØµÙ…Ø¯ Ø·Ø§Ù‡Ø±" }, { id: 'C-17', name: "Ú˜ÛŒØ§ Ø³Û•Ø±Ú©Û•ÙˆØª Ø±Ø³ÙˆÙ„" }, { id: 'C-18', name: "Ú˜ÛŒØ§Ø± Ù…Ø§Ø²Ù† Ù‡Ø§Ø¯ÛŒ" }, { id: 'C-19', name: "Ú˜ÛŒÙˆØ§Ø± Ø­Ø³ÛŒÙ† Ù‡Ø§Ø´Ù…" }, { id: 'C-20', name: "Ø³Ù„Ø§Ù… Ø±Ø²Ú¯Ø§Ø± Ø­ÙØ¸ Ø§Ù„Ù„Ù‡" },
        { id: 'C-21', name: "Ø³Û•Ù‡Ù†Ø¯ Ø³Û•Ø±ÙˆÛ•Ø± Ø¬Ù„Ø§Ù„" }, { id: 'C-22', name: "Ø´Ú¤Ø§Ø± Ù…Ø­Ù…Ø¯ Ù…Ù„Ø§Ù†Ø¨ÛŒ" }, { id: 'C-23', name: "Ø´Ù†Ù‡ Ø¯Ù„Ø´Ø§Ø¯ Ø´Ø§Ú©Ø±" }, { id: 'C-24', name: "Ø´Ù†Ù‡ Ø¹Ø¯Ù†Ø§Ù† Ø¹Ù…Ø±" }, { id: 'C-25', name: "Ø´Ù‡ÛŒØ§Øª Ø§Ø¨Ø±Ø§Ù‡ÛŒÙ… Ø´Ø±ÛŒÙ" },
        { id: 'C-26', name: "Ø´ÛÙ†Ø§ Ú©Ø§Ù…Û•Ø±Ø§Ù† Ø³Ø¹ÙŠØ¯" }, { id: 'C-27', name: "Ø´Û•Ù‡Ø¨Ø§Ø² Ø±Ø´ÛŒØ¯ Ø®ÙˆØ±Ø´ÛŒØ¯" }, { id: 'C-28', name: "Ø´Û•ÛŒØ¨Ø§Ù† ÙˆØ´ÙŠØ§Ø± ÙŠØ§Ø³ÙŠÙ†" }, { id: 'C-29', name: "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¯ÛŒÙ† Ù…Ø­Ù…Ø¯ ØºØ±ÛŒØ¨" }, { id: 'C-30', name: "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù…Ø§Ø¬Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ù…Ù†Ø¹Ù…" },
        { id: 'C-31', name: "Ø¹Ù…Ø§Ø¯ Ù…Ø³Ù„Ù… Ø§Ø³Ù…Ø§Ø¹Ù„" }, { id: 'C-32', name: "Ø¹ÛŒØ³ÛŒ Ø§Ø³Ù…Ø§Ø¹ÛŒÙ„ Ù…ØµØ·ÙÛŒ" }, { id: 'C-33', name: "ÙØ§Ø¶Ù„ Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯ Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø²Ø§Ù‚" }, { id: 'C-34', name: "ÙØ§Ø·Ù…Ù‡ Ø¯Ù„Ø´Ø§Ø¯ Ø­Ù…Ø¯Ø§Ù…ÛŒÙ†" }, { id: 'C-35', name: "ÙØ§Ø·Ù…Ù‡ Ù…Ø­Ù…Ø¯Ø§Ù…ÛŒÙ† Ø®Ø¶Ø±" },
        { id: 'C-36', name: "ÙØ±ÛŒØ´ØªÙ‡ Ø§Ø¯Ø±ÙŠØ³ Ø¹Ù„ÛŒ" }, { id: 'C-37', name: "Ú¤Ø§Ù†ÙŠØ§ Ø¯Ù„Ø´Ø§Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø¬ÙŠØ¯" }, { id: 'C-38', name: "Ú¤ÙŠÙ†Ù‡ Ø§Ø¯Ø±ÛŒØ³ Ø§Ù†ÙˆØ±" }, { id: 'C-39', name: "ÙƒØ±Ù… Ø¹Ø§Ù…Ø± Ø§Ø³Ø­Ù‚" }, { id: 'C-40', name: "ÙƒÛ†Ú˜ÛŒÙ† Ù‡Ø§ÙˆÚ˜ÛŒÙ† ÙØ±Ø¹Ùˆ" },
        { id: 'C-41', name: "Ú©Ø§Ø´Ù…Ù‡ ÙƒÙˆØ³Ø§Ø± Ø¹Ù„Ù‰" }, { id: 'C-42', name: "Ú©Û•Ø´Û•Ù† Ø¨Û•Ø´Ø¯Ø§Ø± Ù¾ÙˆØ´Ùˆ" }, { id: 'C-43', name: "Ù„Ø§Ú¤ÙŠÙ†Ø§ Ø¯Ù„ÙŠØ± Ø¹Ø¨Ø¯Ø§Ù„ÙƒØ±ÙŠÙ…" }, { id: 'C-44', name: "Ù„Ø§Ù†ÛŒØ§ Ø§Ù…ÛŒØ± Ù…Ø­Ù…Ø¯" }, { id: 'C-45', name: "Ù„ÛØ²Ø§Ù† Ù†ÙˆØ²Ø§Ø¯ ÙØ§Ø¶Ù„" },
        { id: 'C-46', name: "Ù„Û•Ù†ÛŒØ§ Ù…Ù‡Ø¯ÛŒ Ø­Ù…Ø¯Ø§Ù…ÛŒÙ†" }, { id: 'C-47', name: "Ù…ØªÙŠÙ† Ø§Ø­Ù…Ø¯ Ø­Ù…Ù‡ Ø³Ø¹ÛŒØ¯" }, { id: 'C-48', name: "Ù…Ø­Ù…Ø¯ Ø¹Ø«Ù…Ø§Ù† Ø­Ù…Ø¯Ø§Ù…ÙŠÙ†" }, { id: 'C-49', name: "Ù…Ø­Ù…Ø¯ Ú©Ø±Ø®ÛŒ Ø´ÙˆÚ©Øª" }, { id: 'C-50', name: "Ù…Ø­Ù…Ø¯ Ù…Ø§Ø²Ù† Ø§Ø­Ù…Ø¯" },
        { id: 'C-51', name: "Ù…ÛŒÙ†Ø§ Ø§ÙˆÙ…ÛŒØ¯ Ù…ØµØ·ÙÛŒ" }, { id: 'C-52', name: "Ù†ÙˆÙ‡Ø§ ÙÙ‡Ø±ÛŒ Ø§ÙˆÙ…Ø±" }, { id: 'C-53', name: "ÙˆÙ†Ø¯ Ù…Ø­Ù…Ø¯ ØµØ¯ÙŠÙ‚ ÙŠØ§Ø³ÙŠÙ†" }, { id: 'C-54', name: "ÛŒØ§Ø± Ø­Ø³Ù† Ù‚Ø±Û•Ù†ÛŒ" }, { id: 'C-55', name: "ÛŒØ§Ø±Ø§ Ø¹ØµÙ…Øª Ø§Ø­Ù…Ø¯" },
        { id: 'C-56', name: "ÛŒÙˆØ³Ù Ù†Ø¬Ù… Ø§Ù„Ø¯ÛŒÙ† Ø¹Ø«Ù…Ø§Ù†" }, { id: 'C-57', name: "Ø¦Ø§Ú©Ø§Ø± Ø´ÙˆÙ‚ÛŒ Ù‚Ø§Ø¯Ø±" }, { id: 'C-58', name: "Ù¾Û•ÛŒÚ¤ÛŒÙ† Ø³ÙØ± Ù…Ø­Ù…Ø¯" }
    ],
    
    'Group D': [
        { id: 'D-1', name: "Ø§Ø¯Ø±ÛŒØ³ Ø¹Ù…Ø§Ø¯ Ú©Ù„Ø­ÛŒ" }, { id: 'D-2', name: "Ø¨Û•Ù‡ÛØ² Ú©Ø§Ø±Ø²Ø§Ù† Ø­Ø³ÛŒÙ†" }, { id: 'D-3', name: "Ø«Ø§Ù…Ø± Ø§Ø±Ø´Ø¯ Ø§Ø³Ù…Ø§Ø¹ÛŒÙ„" }, { id: 'D-4', name: "Ú†Ø±Û† Ù†Û•ÙˆØ²Ø§Ø¯ Ø´Ø§Ú©Ø±" }, { id: 'D-5', name: "Ø±ÙˆØ§Ù† Ø±ÛŒØ§Ù† Ù‡Ø´Ø§Ù…" },
        { id: 'D-6', name: "Ú˜ÛŒØ§Ø± Ú©Ø§Ø±ÙˆØ§Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù…Ù†Ø§Ù" }, { id: 'D-7', name: "Ú˜ÛŒÙ„Ù‡ Ø³ØªØ§Ø± Ø§Ø­Ù…Ø¯" }, { id: 'D-8', name: "Ø³Ø§Øª Ù…Ø­Ù…Ø¯ Ø³Ù„ÛÙ…Ø§Ù†" }, { id: 'D-9', name: "Ø³Ø§Ø±Ø§ Ø§Ø­Ù…Ø¯ Ø§Ø³Ø¹Ø¯" }, { id: 'D-10', name: "Ø³Ø§Ø±Ù‡ Ø´Ù‡Ø±ÛŒØ§Ø± Ù…Ø§Ù…Ù†Ø¯" },
        { id: 'D-11', name: "Ø³Ø§ÙÙŠÙ† Ø³Ù„ÛŒÙ… Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ…" }, { id: 'D-12', name: "Ø³Ø§Ù†Ø§ Ù…Ø¸Ù‡Ø± ÙŠÙˆØ³Ù" }, { id: 'D-13', name: "Ø³Ø§ÙˆÛØ² Ú©Ø§Ù…Ø±Ø§Ù† Ø¬Ù„ÛŒÙ„" }, { id: 'D-14', name: "Ø³Ø¹Ø¯ Ø³Ø§Ù„Ù… Ø­Ø§Ø²Ù…" }, { id: 'D-15', name: "Ø³Û†Ø² Ù‡Û•Ù„Ù…Û•Øª Ú©Ø±ÛŒÙ…" },
        { id: 'D-16', name: "Ø³Û†Ø²ÛŒ ÙÙˆØ§Ø¯ Ø§Ø­Ù…Ø¯" }, { id: 'D-17', name: "Ø³ÙŠØªØ§ ÙØ±Ù‡Ø§Ø¯ Ø¹Ø¨Ø¯Ø§Ù„ÙˆØ§Ø­Ø¯" }, { id: 'D-18', name: "Ø³ÙŠÙ…Ø§ Ø­Ø³Ù† Ø®Ø¶Ø±" }, { id: 'D-19', name: "Ø³ÙŠÙ…Ø§ Ø³Ù„Ø§Ù… Ø¹Ù„Ù‰" }, { id: 'D-20', name: "Ø³ÛŒÚ¤Ø§ Ø³ØªØ§Ø± Ø´ÛØ®" },
        { id: 'D-21', name: "Ø³ÙŠÚ¤Ø§Ù„ Ø¦ÙˆØ²Ù„Ù… ÙŠÙ…Ø§Ù†" }, { id: 'D-22', name: "Ø³ÛŒÙ…Ø§ Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø²Ø§Ù‚ Ø¨ÙƒØ±" }, { id: 'D-23', name: "Ø³ÛŒÙ…Ø§ Ø¹Ù„Ù‰ Ø­Ø³ÙŠÙ†" }, { id: 'D-24', name: "Ø³ÛŒÙ…Ø§ Ú¯ÛŒÙ„Ø§Ù†ÛŒ Ù…Ø­Ù…Ø¯" }, { id: 'D-25', name: "Ø³Û•Ù¾Ø§Ù† Ú©Ù…Ø§Ù„ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡" },
        { id: 'D-26', name: "Ø³Û•Ø±Ú©Û•ÙˆØª Ø³Ø¹Ø¯ÛŒ Ø§Ø³Ù…Ø§Ø¹ÛŒÙ„" }, { id: 'D-27', name: "Ø³Û•Ù„Ø§Ø± Ù‡ÛŒÙˆØ§ Ù‚Ø§Ø¯Ø±" }, { id: 'D-28', name: "Ø³Û•Ù‡Û•Ù†Ø¯ Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ø·ÙŠÙ Ù…ØµØ·ÙÙ‰" }, { id: 'D-29', name: "Ø´Ø§Ø¬ÙˆØ§Ù† Ø¹Ø¨Ø¯Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ø«Ù…Ø§Ù†" }, { id: 'D-30', name: "Ø´Ø§Ø¯ Ú©Ø§ÙˆÙ‡ Ù‚Ø§Ø³Ù…" },
        { id: 'D-31', name: "Ø´Ø§Ø¯ ÙŠØ§Ø³ÙŠÙ† Ø¹Ø«Ù…Ø§Ù†" }, { id: 'D-32', name: "Ø´Ø§Ù†ÛÙ„ Ù…ÛŒØ±Ø®Ø§Ù† Ù…Ø­Ù…Ø¯" }, { id: 'D-33', name: "Ø´Ø§Ù†ÛŒØ§ Ø±Ø²Ú¯Ø§Ø± Ø·Ù‡" }, { id: 'D-34', name: "Ø´Ø§ÙŠÛ•Ù† Ø¹Ù„ÙŠ Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ…" }, { id: 'D-35', name: "Ø´Ø§ÛŒÛŒ Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø·Ù‡" },
        { id: 'D-36', name: "Ø´Û•Ù† ØµÙ„Ø§Ø­ ØµØ§Ù„Ø­" }, { id: 'D-37', name: "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù‡ÛÙ…Ù† Ú•Û•Ø´ÛŒØ¯" }, { id: 'D-38', name: "Ú¤Ø§Ø±ÛŒ Ú©Ø§Ø±ÙˆØ§Ù† Ø³Ø¹ÙŠØ¯" }, { id: 'D-39', name: "ÙƒÙˆØ³Ø§Ø± Ø³ÙŠØ±ÙˆØ§Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡" }, { id: 'D-40', name: "Ú©Ø§Ø¨Ø§Ø± ÙØ±Ø­Ø§Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡" },
        { id: 'D-41', name: "Ú©Ø±ÛŒÙ… Ø¨Ø±Ù‡Ø§Ù† Ú©Ø±ÛŒÙ…" }, { id: 'D-42', name: "Ú¯Û•Ø´Ø¨ÙŠÙ† Ø¹Ø¨ÙŠØ¯ Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø¬ÙŠØ¯" }, { id: 'D-43', name: "Ù…ÛŒÙ‡Ø±Ø§Ù† Ø¹Ø¨Ø¯Ø§Ù„Ø³ØªØ§Ø± Ø§Ø³Ù…Ø§Ø¹ÙŠÙ„" }, { id: 'D-44', name: "Ù…Ø­Ù…Ø¯ Ø§Ø²Ø§Ø¯ Ø¹Ø²ÛŒØ²" }, { id: 'D-45', name: "Ù…Ø­Ù…Ø¯ Ø¬Ø¨Ø§Ø± Ø¹Ø¨Ø¯ÛŒ" },
        { id: 'D-46', name: "Ù…Ø­Ù…Ø¯ Ø³Ø§Ù…Ø§Ù† Ù…Ø­Ù…ÙˆØ¯" }, { id: 'D-47', name: "Ù…Ø­Ù…Ø¯ Ø¹Ø¨Ø§Ø³ Ø¹Ø¨Ø¯ÛŒ" }, { id: 'D-48', name: "Ù…Ø­Ù…Ø¯ Ø¹Ø²Û•Øª Ø¹Ø²ÛŒØ²" }, { id: 'D-49', name: "Ù…Ø­Ù…Ø¯ Ú©Ù…Ø§Ù„ Ø§Ù†ÙˆØ±" }, { id: 'D-50', name: "Ù…Ù†ØµÙˆØ± Ù†Ø§ØµØ± Ø¹Ø«Ù…Ø§Ù†" },
        { id: 'D-51', name: "Ù†ÙˆØ§ Ø¹Ù…Ø±Ø§Ù† Ø³Ù„ÛŒÙ…" }, { id: 'D-52', name: "Ù†ÛŒÚ¯Ø§ ÙˆØ±ÛŒØ§ Ø§Ø­Ù…Ø¯" }, { id: 'D-53', name: "Ù†ÛŒÙˆØ§Ø± Ù†Ø¬Ù… Ø§Ù„Ø¯ÛŒÙ† Ø´Ø§Ú©Ø±" }, { id: 'D-54', name: "Ù‡ÛÙˆØ± Ù‡Ø§ÙˆÚ©Ø§Ø± Ù…ÛŒÙ†Ù‡" }, { id: 'D-55', name: "ÛŒØ§ÙˆÛ•Ø± Ø¹Ù…Ø± Ø±Ø³ÙˆÙ„" },
        { id: 'D-56', name: "Ø¦Ø§Ø±ÛŒ Ø¬Ø¨Ø§Ø± Ø§Ø­Ù…Ø¯" }, { id: 'D-57', name: "Ø¦Ø§Ø³Û† ÙƒÙ…Ø§Ù„ Ø¹Ù…Ø±" }
    ],
    
    'Group E': [
        { id: 'E-1', name: "Ù¾Û•ÛŒÙˆÛ•Ù†Ø¯ Ø¹Ù„ÛŒ Ù…Ø­Ù…Ø¯" }, { id: 'E-2', name: "Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø®Ù„ÙŠÙ„ Ø¹Ø¨Ø¯ÙˆÙ„" }, { id: 'E-3', name: "Ø§Ø±ÛŒØ¬ ÙØ±Ø§Ø³ ÙŠØ§Ø³ÙŠÙ†" }, { id: 'E-4', name: "Ø§Ø³ÛŒÙ„ Ø§Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯" }, { id: 'E-5', name: "Ø§Ù…ÛŒÙ† Ù†Ø¶Ø§Ù„ Ø§Ù…ÛŒÙ†" },
        { id: 'E-6', name: "ØªØ§Ø¨Ù„Ùˆ Ù‡ÙŠÙ…Ù† Ø·Ø§Ù‡Ø±" }, { id: 'E-7', name: "Ø¬ÙŠÙˆØ§Ø± Ù„Ù‚Ù…Ø§Ù† Ø±Ø´ÙŠØ¯" }, { id: 'E-8', name: "Ø¯Ø§Ø±ÛŒÙ† Ø³Ù„ÛŒÙ… Ù…Ø­Ù…Ø¯" }, { id: 'E-9', name: "Ø¯Ø§Ø³ØªØ§Ù† Ø­Ú©ÛŒÙ… Ø¬Ø¨Ø§Ø±" }, { id: 'E-10', name: "Ø¯Ø§Ù„ÙŠØ§ Ø³Ø¹Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ø®Ø§Ù„Ù‚" },
        { id: 'E-11', name: "Ø¯Ø§Ù†Ø§Ø³ Ø´ÛŒØ±ÙˆØ§Ù† Ú©Ø±ÛŒÙ…" }, { id: 'E-12', name: "Ø¯Ø±Ø¨Ø§Ø² Ù†Ø¬Ù… Ø§Ù„Ø¯ÙŠÙ† Ø¹Ø¨Ø¯ Ø§Ù„ÙƒØ±ÙŠÙ…" }, { id: 'E-13', name: "Ø¯ÙŠØ§Ø±Ù‰ Ø£Ø³Ø¹Ø¯ ÙƒØ±ÙŠÙ…" }, { id: 'E-14', name: "Ø±Ø§Ú˜Ø§Ù† ÛŒØ§Ø³ÛŒÙ† Ø±Ø´ÛŒØ¯" }, { id: 'E-15', name: "Ø±Ø§Ø³ØªÛŒ Ù‚Ø§Ø³Ù… ÙˆØ³Ùˆ" },
        { id: 'E-16', name: "Ø±Ø§Ù…Ø§ Ø²ÛŒØ¯ Ø§Ø³Ø§Ù…Ù‡" }, { id: 'E-17', name: "Ø±Û†Ø² ØºÙ…Ø¨Ø§Ø± ØµØ¨Ø§Ø­" }, { id: 'E-18', name: "Ø±ÙˆÚ˜ Ø¦Ø§Ù…Ø§Ù†Ø¬ Ø§Ø³Ø­Ø§Ù‚" }, { id: 'E-19', name: "Ø±ÙˆÚ˜ÛŒ ØµÙ„Ø§Ø­ Ø§Ù„Ø¯ÛŒÙ† Ø³Ø¹ÛŒØ¯" }, { id: 'E-20', name: "Ø±ÙˆØ´Ù†Ø§ Ù¾ÛŒØ±Ø² Ø®Ø§Ù„Ø¯" },
        { id: 'E-21', name: "Ø±ÙˆÙ†ÛŒØ§ Ø±Ù…Ø²ÛŒ Ø¹Ø²ÛŒØ²" }, { id: 'E-22', name: "Ø±ÛŒØ¨Ø§Ø² Ø§Ø³Ù…Ø§Ø¹ÛŒÙ„ Ø­ÙˆÛŒØ²" }, { id: 'E-23', name: "Ø±ÛŒØ²Ø¯Ø§Ø± Ø±Ø²Ú¯Ø§Ø± Ú©Ø§Ú©Ù‡" }, { id: 'E-24', name: "Ø±ÛŒØ²Ø¯Ø§Ø± Ø±Ù…Ø¶Ø§Ù† Ù…Ø­Ù…Ø¯ Ù‚Ø§Ø¯Ø±" }, { id: 'E-25', name: "Ø±ÛŒÙ†ÙˆØ³ Ø§Ù…ÛŒÙ† Ø­Ø³ÛŒÙ†" },
        { id: 'E-26', name: "Ø±ÛŒØ§Ù† Ø¨Ø§Ø±Ø²Ø§Ù† Ù…Ø­Ù…Ø¯" }, { id: 'E-27', name: "Ø±ÛŒÚ©Û•ÙˆØª Ø§ÙƒÙˆ Ø´ÙŠØ±ÙƒÙˆ" }, { id: 'E-28', name: "Ø±Û•Ù†Ùˆ Ø±ÛŒØ¯Ø§Ø± Ø¹Ù…Ø±" }, { id: 'E-29', name: "Ø±Û•ÙˆØ§ Ø±Ø²Ú¯Ø§Ø± Ù‚Ø§Ø¯Ø±" }, { id: 'E-30', name: "Ø±Û•ÙˆØ§Ù† Ù…Ù‡Ø§Ø¬Ø± Ø¨Ø§Ø¨ÙƒØ±" },
        { id: 'E-31', name: "Ø±Û•ÙˆÛŒÙ† Ø¨Ù‡ Ù„ÛŒÙ† Ø²ÛŒØ§Ø¯" }, { id: 'E-32', name: "Ø²Ù‡Ø±Ø§ ØµØ§Ù„Ø­ Ù…Ø­Ù…Ø¯" }, { id: 'E-33', name: "Ú˜ÙˆØ§Ù† Ù„Ù‚Ù…Ø§Ù† Ù…ØµØ·ÙÙ‰" }, { id: 'E-34', name: "Ú˜ÙŠÙ„Ù‡ ÙŠØ­ÙŠÙ‰ Ù…Ø¬ÙŠØ¯" }, { id: 'E-35', name: "Ú˜ÛŒÙ† Ø·Ø§Ù‡Ø± Ù…Ø­Ù…Ø¯" },
        { id: 'E-36', name: "Ø³Ø§Ø±Ù‡ ÙÙ„Ø§Ø­ Ø­Ø³Ù†" }, { id: 'E-37', name: "Ø³Ø§Ù† Ø³Ø§Ù…Ø§Ù†" }, { id: 'E-38', name: "Ø³Ù‡ Ø¯Ø§ Ø¹Ø«Ù…Ø§Ù† Ù‚Ø§Ø¯Ø±" }, { id: 'E-39', name: "Ø³Ù‡ Ø±Ú¯ÙˆÙ„ Ù…ØµØ·ÙÛŒ Ø§Ø­Ù…Ø¯" }, { id: 'E-40', name: "Ø¹Ø¨Ø¯Ø§Ù„Ù…ØªÙŠÙ† ÙŠÙˆÙ†Ø³ Ù…Ø­Ù…Ø¯" },
        { id: 'E-41', name: "Ø¹Ù…Ø±Ø§Ù† Ø²Ú©Ø±ÛŒ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÛŒ" }, { id: 'E-42', name: "ÙØ§Ù„ÙŠØ±ÙŠÙˆ ÙÙŠØµÙ„ Ø¨ÙˆÙ„Øµ" }, { id: 'E-43', name: "ÙƒØ§Ù†ÛŒ Ù‚Ø±Ø¨Ø§Ù†ÛŒ Ø¹Ù„ÛŒ" }, { id: 'E-44', name: "Ù…Ø§Ø±Ø¯ÙŠÙ† Ø·Ø§Ø±Ù‚ ØªÙˆÙÙŠÙ‚" }, { id: 'E-45', name: "Ù…Ø§Ù†ÛŒ Ù…Ø­Ù…Ø¯ Ø¬Ù…Ø§Ù„" },
        { id: 'E-46', name: "Ù…Ø­Ù…Ø¯ ÙØ±Ù‡Ø§Ø¯ Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù†" }, { id: 'E-47', name: "Ù…Ø­Ù…Ø¯ Ù…Ù‡Ø¯ÛŒ" }, { id: 'E-48', name: "Ù…Ø­Ù…Ø¯ Ù†Ø§ÙƒÙˆ Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ…" }, { id: 'E-49', name: "Ù†ÛŒØ§Ù† Ø§Ø³Ù…Ø§Ø¹ÛŒÙ„ Ø³Ø¹ÙŠØ¯" }, { id: 'E-50', name: "Ù‡ÙŠÙ„Ø§Ø³ Ø³Ø§Ø¨Ø± Ù…ÙˆÙ„ÙˆØ¯" },
        { id: 'E-51', name: "Ù‡ÙŠÙ„ÙŠÙ† Ù…Ø­Ù…Ø¯ Ø­Ø³Ù†" }, { id: 'E-52', name: "ÛŒØ§Ø¯ Ø´Ø§Ø®Û•ÙˆØ§Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù…Ù†Ø§Ù" }, { id: 'E-53', name: "ÛŒØ§Ø³Ø§ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ø§Ù†" }, { id: 'E-54', name: "Ø¦Ø§Ú¤Ø§Ù† Ø¹Ø²ÛŒØ² Ø§Ø­Ù…Ø¯" }, { id: 'E-55', name: "Ø¦Ø§Ú©Ø§Ù… Ø¬Ø§Ø³Ù… Ù…ÙˆÙ„ÙˆØ¯" },
        { id: 'E-56', name: "Ø¦Ø§Ù…Û•Ø¯ Ù…Ø­Ù…Ø¯ Ù‚Ø§Ø¯Ø±" }, { id: 'E-57', name: "Ø¦Û•Ù„Û•Ù†Ø¯ Ø±ÛŒØ¨ÙˆØ§Ø± Ù…Ø­Ù…Ø¯" }
    ],
    
        'Group F': [
        { id: 'F-1', name: "Ø¢Ø³ÛŒØ§ Ù†ÛŒØ§Ø²ÛŒ Ø±ÙˆØ³ØªÙ…" }, { id: 'F-2', name: "Ø§Ù…ÛŒÙ† Ù…Ø­Ù…Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡" }, { id: 'F-3', name: "Ø§Ù†Ø³ ÙƒÙŠÙÙŠ Ø±Ù…Ø²ÙŠ" }, { id: 'F-4', name: "Ø§ÛŒÙ„Ø§Ù Ø³Ù†Ú¯Ø± Ø¬Ù„Ø§Ù„" }, { id: 'F-5', name: "Ø§ÙŠÚ¤Ø§Ù† Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯" },
        { id: 'F-6', name: "Ø¨Ù„Ù†Ø¯ Ø§Ø¨Ø±Ø§Ù‡ÛŒÙ… Ø±Ù‡ Ø³ÙˆÙ„" }, { id: 'F-7', name: "Ø¨Û•Ù„ÛŒÙ† Ù…Ø­Ø³Ù† ØµØ§Ø¨Ø±" }, { id: 'F-8', name: "Ù¾Û•ÛŒØ§Ù… Ú©Ø§ÙˆÙ‡ Ù…Ø­Ù…Ø¯" }, { id: 'F-9', name: "Ù¾Û•ÛŒÙˆÛ•Ø³Øª ÙØ±Ù…Ø§Ù† Ø·Ù‡" }, { id: 'F-10', name: "Ú†Ø±Ø§ Ø¯Ø§Ù†Ø§ Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù†" },
        { id: 'F-11', name: "Ø­Ø³Ù† Ø¹Ø¨Ø¯Ø§Ù„ØºÙØ§Ø± ÙƒØ§Ù…Ù„" }, { id: 'F-12', name: "Ø­Ø³Ù†Ù‡ Ø­Ø³Ù† Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù†" }, { id: 'F-13', name: "Ø¯Ø§Ù‡ÛÙ† Ù‡ÛŒÙ…Ù† Ø®Ø§Ù„Ø¯" }, { id: 'F-14', name: "Ø¯ÛŒØ§Ø± Ø¨Ø®ØªÛŒØ§Ø± Ú©Ø§Ú©Ù„" }, { id: 'F-15', name: "Ø±Ø§Ù…ÛŒÙ† Ù…Ù‚Ø¨Ù„ Ø¹Ù‚ÙŠÙ„" },
        { id: 'F-16', name: "Ø±ÙˆØ² Ù†ÙˆØ²Ø§Ø¯ Ú©Ù…Ø§Ù„" }, { id: 'F-17', name: "Ø²ÙƒØ±ÙŠØ§ Ø­Ù‚Ù‰ Ø§Ø³Ù…Ø§Ø¹ÙŠÙ„" }, { id: 'F-18', name: "Ú˜ÛŒÙ‚Ø§Ù† Ø¨Ø§Ø³Ø· Ø¹Ø²ÛŒØ²" }, { id: 'F-19', name: "Ú˜ÛŒÙ† Ø§Ø¨Ø±Ø§Ù‡ÛŒÙ… Ø¨Ù„Ø§Ù„" }, { id: 'F-20', name: "Ø³Ø§Ø±Ù‡ Ø¦ÙˆÙ…ÛŒØ¯ Ù…Ø­Ù…Ø¯ Ø§Ù…ÛŒÙ†" },
        { id: 'F-21', name: "Ø³Ø¯Ø±Ù‡ Ø³Ø±Ù…Ø¯ Ø³Ø¹ÛŒØ¯" }, { id: 'F-22', name: "Ø³Ù†Ø¯Ø³ ÛŒØ§Ø¯Ú¯Ø§Ø± Ø¹Ø¯Ù†Ø§Ù†" }, { id: 'F-23', name: "Ø´Ø§Ú¯ÙˆÙ„ Ø§Ø³Ù…Ø§Ø¹ÛŒÙ„ Ø³Ø¹ÛŒØ¯" }, { id: 'F-24', name: "Ø¹Ù„Ù‰ ÙˆØ±ÙŠØ§ Ù…Ø­Ù…Ø¯ Ø£Ù…ÙŠÙ†" }, { id: 'F-25', name: "ÙÛ•Ø±Ù…Ø§Ù† ÙØ±Ø³Û•Øª ØªÙˆÙÛŒÙ‚" },
        { id: 'F-26', name: "Ú©Ø§Ù†ÛŒ Ø§Ø¨ÙˆØ¨Ú©Ø± Ø´ÛŒØ® Ù…Ø­Ù…Ø¯" }, { id: 'F-27', name: "Ú©Ø§Ù†ÛŒ Ú©ÙˆØ³Ø±Û•Øª Ø¹Ø«Ù…Ø§Ù†" }, { id: 'F-28', name: "Ù„Ø§Ù†ÙŠØ§ Ø¦Ø§Ø±ÛŒ Ù†Ø§Ø¸Ù…" }, { id: 'F-29', name: "Ù„Ø§ÙˆÙ†Ø¯ Ú©Ø§ÙˆÙ‡ Ù…Ø¬ÛŒØ¯" }, { id: 'F-30', name: "Ù„Ø§ÙˆÛ•Ù†Ø¯ Ù…Ø³Ø¹ÙˆØ¯ ÛŒÙˆØ³Ù" },
        { id: 'F-31', name: "Ù„ÛŒØ²Ø§Ù† Ø³ÙŠØ±ÙˆØ§Ù† Ø¹Ø«Ù…Ø§Ù†" }, { id: 'F-32', name: "Ù„ÛÙˆÚ˜Ù‡ Ø±Ø²Ú¯Ø§Ø± Ø³Ø¹ÛŒØ¯" }, { id: 'F-33', name: "Ù„Û•Ù†ÙŠØ§ Ø³ÙŠØ±ÙˆØ§Ù† Ø®Ù„ÙŠÙ„" }, { id: 'F-34', name: "Ù„Û•Ù‡ÙŠ Ø¹ØµÙ…Øª Ø¹Ù„ÛŒ" }, { id: 'F-35', name: "Ù…Ø§Ø±Ø¯ÛŒÙ† Ù…ØºÙŠØ¯ Ø¨Ù‡Ø±Ø§Ù…" },
        { id: 'F-36', name: "Ù…Ø§ÙÙŠØ§Ø± Ù…Ø­Ù…Ø¯ Ø¹Ù„Ù‰" }, { id: 'F-37', name: "Ù…Ø­Ù…Ø¯ Ø§Ø±Ø§Ù… Ø§Ø­Ù…Ø¯" }, { id: 'F-38', name: "Ù…Ø­Ù…Ø¯ Ø¢Ø²Ø§Ø¯ Ú©Ø±ÛŒÙ…" }, { id: 'F-39', name: "Ù…Ø­Ù…Ø¯ Ø¬Ø¨Ø§Ø± ØµØ§Ù„Ø­" }, { id: 'F-40', name: "Ù…Ø­Ù…Ø¯ Ø¯Ù‡Ø§Ù… Ø¬Ø¹ÙØ±" },
        { id: 'F-41', name: "Ù…Ø­Ù…Ø¯ Ø²Ø±Ø§Ø± Ø­Ø³ÛŒÙ†" }, { id: 'F-42', name: "Ù…Ø­Ù…Ø¯ Ø¹Ø¨Ø¯Ø§Ù„ÙˆØ§Ø­Ø¯ ÙØ±Ø­Ø§Ù†" }, { id: 'F-43', name: "Ù…Ø­Ù…Ø¯ ØºØ§Ø²ÛŒ Ø³Ø¹ÛŒØ¯" }, { id: 'F-44', name: "Ù…Ø­Ù…Ø¯ Ú¯Ù‡ ÛŒÙ„Ø§Ù† Ø§Ø­Ù…Ø¯" }, { id: 'F-45', name: "Ù…Ø­Ù…Ø¯ Ø¦Ø§Ø³Ùˆ Ø¹Ø«Ù…Ø§Ù†" },
        { id: 'F-46', name: "Ù…Ø­Ù…ÙˆØ¯ Ø¨Ø§Ù‚ÛŒ Ø¹Ø«Ù…Ø§Ù†" }, { id: 'F-47', name: "Ù…Ø±ÛŒÙ… Ø§Ø­Ù…Ø¯ ÙØ§ØªØ­" }, { id: 'F-48', name: "Ù…ØµØ·ÙÛŒ Ú©Ø§Ø±Ø²Ø§Ù† Ø¨Ú©Ø±" }, { id: 'F-49', name: "Ù†Ø¨Ø£ Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ø³Ø¹Ø¯" }, { id: 'F-50', name: "Ù‡ÛŒÙ„ÛŒÙ† Ø­Ú©ÛŒÙ… Ø§Ú©Ø±Ù…" },
        { id: 'F-51', name: "ÛŒØ§Ø±Ø§ Ø¹Ø¨Ø¯ÙˆÚ© Ø¬Ù„ÛŒÙ„" }, { id: 'F-52', name: "Ù†Ø§Ø±Ùˆ Ø´ÙŠØ±ÙƒÙˆ Ù…Ø¹Ø±ÙˆÙ" }, { id: 'F-53', name: "Ù†Ø§Ø±ÛŒ Ø¯Ù„Ø´Ø§Ø¯ Ø¹Ù…Ø§ Ø§Ù„Ø¯Ø¯ÛŒÙ†" }, { id: 'F-54', name: "Ø¦Ø§Ù…Û•Ø¯ Ù†ÛŒØ§Ø² Ø¹Ø¯Ù†Ø§Ù†" }, { id: 'F-55', name: "Ø¦ÛŒÙ…Ø§Ù† Ù‡Ø§Ù†Ø§ Ø¨Ù‡Ø²Ø§Ø¯" },
        { id: 'F-56', name: "Ø¦Û•Ù„Û•Ù†Ø¯ Ú©Ø§Ø±ÙˆØ§Ù† Ø±Ù‚ÛŒØ¨" }
    ],
    
    'Group G': [
        { id: 'G-1', name: "Ø¨Ø§Ø³Ø§Ù† Ù„Ù‚Ù…Ø§Ù† Ù…ØºØ¯ÙŠØ¯" }, { id: 'G-2', name: "Ø§Ø­Ù…Ø¯ Ø§Ø³Ù…Ø§Ø¹ÛŒÙ„ Ù‡Ø§Ø¯ÛŒ" }, { id: 'G-3', name: "Ø§Ù†Ùˆ Ù†Ø²Ø§Ø± Ø­Ù†Ø§" }, { id: 'G-4', name: "Ø§ÙˆØ³ Ø­Ø³ÛŒÙ† Ù‡Ø§Ø¯ÛŒ" }, { id: 'G-5', name: "Ø¨Ù„Ù†Ø¯ Ø¨Ø®ØªÛŒØ§Ø± Ù†Ø§ØµØ¹" },
        { id: 'G-6', name: "Ø¨Ù†ÛŒØ§Ø¯ Ø³Ø§Ø¬Ø¯ Ø³ÛŒØ¯Û•" }, { id: 'G-7', name: "Ø¨ÙˆÛØ± Ø¨Ù„ÛÙ† Ù‡ÛŒÙˆØ§" }, { id: 'G-8', name: "Ù¾Ø§Ú¤ÛŒÙ„ Ø¹Ø²ÛŒØ² Ù…ØµØ·ÙÛŒ" }, { id: 'G-9', name: "Ù¾Û•ÛŒØ§Ù… Ù…Ø­Ù…Ø¯ Ø§Ø¨Ø±Ø§Ù‡ÛŒÙ…" }, { id: 'G-10', name: "ØªÛ•Ø¨Ø§ ÛŒÙˆØ³Ù Ø¹Ù„ÛŒ" },
        { id: 'G-11', name: "Ø¬Ø§Ù† Ù‡ÛÙ…Ù† Ø±Ø§Ù…Ø²" }, { id: 'G-12', name: "Ø¬ÙˆØ§Ù† Ø­Ø³Ù† ÙˆØ­ÛŒØ¯" }, { id: 'G-13', name: "Ø±Ø²Ø§Ù† Ù…Ø­Ù…Ø¯ Ø­Ø³Ù†" }, { id: 'G-14', name: "Ø±ÙˆØ² Ø§Ù…Ø§Ù†Ø¬ Ø¬Ù…Ø§Ù„" }, { id: 'G-15', name: "Ú•Ø§Ù…ÛŒÙ† Ø´ÛØ±Ø²Ø§Ø¯ Ù…Ù„Ø§ Ø¹Ø²ÛŒØ²" },
        { id: 'G-16', name: "Ø³Ø§Ø±Û• Ø®Ø§Ù„ÛŒØ¯ ÙˆÙ„ÛŒØ¯" }, { id: 'G-17', name: "Ø³Ø§Ø±Û• Ø¯Ù„ÛØ± Ø­Ù…Û• Ú©Ø±ÛŒÙ…" }, { id: 'G-18', name: "Ø³Ø§Ú©Ø§Ø± ØµØ¨Ø§Ø­ Ù†ÙˆØ±ÛŒ" }, { id: 'G-19', name: "Ø³Ø§Ù† Ú˜ÛŒÙˆØ§Ø± Ø§Ø³Ù…Ø§Ø¹ÛŒÙ„" }, { id: 'G-20', name: "Ø³Ù…ÛŒÛ• Ø¹Ù„ÛŒ Ù†Ø§Ù…Ù‚" },
        { id: 'G-21', name: "Ø³ÛŒØ¯Ø±Ø§ Ù…Ø¸ÙØ± ØµØ§Ø¨Ø±" }, { id: 'G-22', name: "Ø³ÛŒÙ†Ø§ Ø³Ø¹ÛŒØ¯ Ù…Ø­Ù…Ø¯" }, { id: 'G-23', name: "Ø´Ø§ØªÙˆÙˆ Ù‡Û•Ù„Ú¯ÙˆØ±Ø¯ Ø¨Ø§Ù¾ÛŒØ±" }, { id: 'G-24', name: "Ø´Ø§Ø¯ Ø§Ø­Ù…Ø¯ Ø¬Ù„Ø§Ù„ Ø§Ø­Ù…Ø¯" }, { id: 'G-25', name: "ØµÙØ§ Ø§Ø±Ø§Ù… Ú©Ù…Ø§Ù„" },
        { id: 'G-26', name: "Ø¹Ù„ÛŒ Ù…Ø­Ù…Ø¯ ØªÙˆÙÛŒÙ‚" }, { id: 'G-27', name: "Ù„Ø§Ø³ Ù…Ø­Ù…Ø¯ Ø­Ù…Ø¯ Ø§Ù…ÛŒÙ†" }, { id: 'G-28', name: "Ù„Ø§Ø³ Ù‡Û•ÚµÙ…Û•Øª Ø¹Ø¨Ø¯Ø§Ù„Ú©Ø±ÛŒÙ…" }, { id: 'G-29', name: "Ù„Ø§Ù†Û• Ø¹Ø¯ÛŒ Ø§Ù„Ø·Ø§Ø¦ÛŒ" }, { id: 'G-30', name: "Ù„Û•Ù†ÛŒØ§ ØªÙˆØ§Ù†Ø§ Ú©Ù…Ø§Ù„" },
        { id: 'G-31', name: "Ù…Ø­Ù…Ø¯ Ø§Ø²Ø§Ø¯ Ø§Ø³Ù…Ø§Ø¹ÛŒÙ„" }, { id: 'G-32', name: "Ù…Ø­Ù…Ø¯ Ù…Ø§Ø²Ù† Ú©Ø±Ø®ÛŒ" }, { id: 'G-33', name: "Ù…Ø­Ù…ÙˆØ¯ ÙˆØ´ÛŒØ§Ø± Ù…Ø­Ù…ÙˆØ¯" }, { id: 'G-34', name: "Ù…Ú©Ø±Ù… Ú©Ø§Ù…Ø±Ø§Ù† ÛŒÙˆØ³Ù" }, { id: 'G-35', name: "Ù…Ù„Ø§Ú© Ù†Ø´ÙˆØ§Ù† Ø³Ù„ÛÙ…Ø§Ù†" },
        { id: 'G-36', name: "Ù…Ù†ÛŒ Ù†Ø¹Ù…Øª Ù…Ø¬ÛŒØ¯" }, { id: 'G-37', name: "Ù…Ø¤Ù…Ù† Ø§Ù…ÛŒØ± Ø¬Ø¹ÙØ±" }, { id: 'G-38', name: "Ù…Û•Ù†Ø¯ Ù…Ø­Ù…ÙˆØ¯ Ù…ÛŒØ±Ø§Ù†" }, { id: 'G-39', name: "Ù…Û•Ù†Ø¯ Ø¦Ø§Ø±Ø§Ù… Ø¨Ø±Ù‡Ø§Ù†" }, { id: 'G-40', name: "Ù†Ø§Ø±Ø³Ø§ Ù†Ø²Ø§Ø± Ù…Ù†ØµÙˆØ±" },
        { id: 'G-41', name: "Ù†Ø§Ú¤Ø§Ø±Ùˆ Ù†ÛŒÙ†ÙˆØ³ Ø­Ù†Ø§" }, { id: 'G-42', name: "Ù†Ø²Ø§ Ø¬Ù„ÛŒÙ„ Ø£Ø­Ù…Ø¯ Ø¨Ù„Ù‡" }, { id: 'G-43', name: "Ù‡ÛÚ¤ÛŒ Ù…Ø­Ù…Ø¯ Ù‚Ø§Ø¯Ø±" }, { id: 'G-44', name: "Ù‡ÛÚ¤ÛŒ Ù…ØºØ¯ÛŒØ¯ Ù…Ø®Ù„Øµ" }, { id: 'G-45', name: "Ù‡Û•Ø±Ø¯ÛŒ Ù…Ø­Ù…Ø¯ Ù…ØµØ·ÙÙ‰" },
        { id: 'G-46', name: "ÛŒÙˆÙ„Ù„Ø§ Ø¨Ø§Ø³Ù… Ù†Ø³Ø·ÙˆØ±Ø³" }, { id: 'G-47', name: "ÛŒØ§Ø±Ø§ Ú©Ø§Ù…Ø±Ø§Ù† Ø­Ù†Ø§" }, { id: 'G-48', name: "ÛŒØ§Ø±Ø§ Ù…Ø­Ù…Ø¯ ÙÙ‚ÛŒ Ù…Ø­Ù…Ø¯Ø§Ù…ÛŒÙ†" }, { id: 'G-49', name: "ÛŒØ§Ø±Ø§ Ù…Ø­Ù…Ø¯ ÛŒÙˆÙ†Ø³" }, { id: 'G-50', name: "ÛŒÙˆØ³Ù Ø¬Ù„ÛŒÙ„ Ø¬Ø¨Ø±Ø§Ø¦ÛŒÙ„" },
        { id: 'G-51', name: "ÛŒÙˆØ³Ù Ø¹Ù…Ø§Ø± Ø¹Ø¯Ù†Ø§Ù†" }, { id: 'G-52', name: "ÛŒÙˆØ³Ù Ù‚ÛŒØ³ Ù…Ø¬ÛŒØ¯" }, { id: 'G-53', name: "Ø¦Ø§Ø±Ø§ Ø§Ø±Ø§Ø² Ø§Ø²Ø§Ø¯" }, { id: 'G-54', name: "Ø¦Ø§Ø±Ø§ Ø¹Ø¨Ø¯Ø§Ù„Ø³ØªØ§Ø± Ø§Ø­Ù…Ø¯" }, { id: 'G-55', name: "Ø¦Ø§Ú¤Û•Ù†Ø¯ ÙØªØ§Ø­ Ø¹Ø²ÛŒØ²" },
        { id: 'G-56', name: "Ø¦ÛŒÚ¤Ø§Ù† Ø·Ù„Ø¹Øª Ù†Ø§Ù…Ù‚" }
    ],
    
    'Group H': [
        { id: 'H-1', name: "Ø´Ø§Ø¯ Ù¾ÛØ´Ú•Û•Ùˆ Ø¹Ø¨Ø¯Ø§Ù„Ø¬Ø¨Ø§Ø±" }, { id: 'H-2', name: "Ø§Ø³Ø§Ù…Û• Ø²ÛŒØ¯ Ø³Ø§Ù„Ù…" }, { id: 'H-3', name: "Ø§Ø³Ù…Ø§Ø¡ Ø­Ù…Ø¯ Ø§Ù…ÛŒÙ†" }, { id: 'H-4', name: "Ø§Ø³Ù…Ø§Ø¡ Ø®Ø§Ù„Øµ Ù‚Ø§Ø³Ù…" }, { id: 'H-5', name: "Ø§Ø³Ù…Ø§Ø¡ Ø¹Ù„ÛŒ Ø§Ø¨Ø±Ø§Ù‡ÛŒÙ…" },
        { id: 'H-6', name: "Ø§Ù…Ù†Û• Ø§Ø­Ù…Ø¯ Ø³Ø§Ù„Ù…" }, { id: 'H-7', name: "Ø§Ù…ÛŒÙ† Ø¹Ø²Ø§Ù„Ø¯ÛŒÙ† Ù…ØµØ·ÙÛŒ Ù†Ø§Ø¯Ø±" }, { id: 'H-8', name: "Ø¨Ø§Ù†Ù‡ Ø²ÙˆØ²Ú© Ù…Ø­Ù…Ø¯Ø´Ø§Ù¾ÙˆØ±" }, { id: 'H-9', name: "Ø¨Ø±ÙˆØ§ Ø³ÛŒØ±ÙˆØ§Ù† Ø¨Ú©Ø±" }, { id: 'H-10', name: "Ø¨Û•Ú•ÛØ² Ø±Ø­Ù…Ø§Ù† Ù…Ø­Ù…Ø¯" },
        { id: 'H-11', name: "Ú†Ø±Ù¾Û• Ø³Ù„ÛŒÙ…Ø§Ù† Ø§Ø³Ø¹Ø¯" }, { id: 'H-12', name: "Ø¯ÛŒÛ•Ù… Ù…Ø­Ù…Ø¯ Ø¹Ø²ÛŒØ²" }, { id: 'H-13', name: "Ø¯Û•Ú¤Û•Ø± Ø¯Ù„Û†Ú¤Ø§Ù† Ù…Ø­Ù…Ø¯ ÙØ§ØªØ­" }, { id: 'H-14', name: "Ø±Ø§Ù…Ø² Ù…Ù‚Ø¨Ù„ Ø¹Ù‚ÛŒÙ„" }, { id: 'H-15', name: "Ø±Û•Ù‡Û•Ù†Ø¯ Ù‡ÛŒÙ…Ù† Ø±Û•Ø´Ø§Ø¯" },
        { id: 'H-16', name: "Ø²ÛŒØ¯ Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ø§Ù† Ø­Ù…Ø¯ Ø§Ù…ÛŒÙ†" }, { id: 'H-17', name: "Ú˜ÛŒØ±Ø§ Ø­Ø³Ù† Ø­Ù…Ø²Û•" }, { id: 'H-18', name: "Ú˜Û•Ù†ÛŒØ§Ø± Ù‡Û•Ø±ÛŒØ§Ø¯ ØµØ¨Ø±ÙŠ" }, { id: 'H-19', name: "Ø³Ø§Ù† Ù‡ÛÙ…Ù†" }, { id: 'H-20', name: "Ø³Ø§Ù†Ø§ Ù…Ø¸ÙØ± Ø´Ø§Ú©Ø±" },
        { id: 'H-21', name: "Ø³ÙˆÙ†ÛŒØ§ Ø³ÛŒØ§Ù…Ù†Ø¯ Ø³ÛŒÙ Ø§Ù„Ø¯ÛŒÙ†" }, { id: 'H-22', name: "Ø³Û†Ø² Ø®Ù„ÛŒÙ„ Ø§Ø­Ù…Ø¯" }, { id: 'H-23', name: "Ø³Û†Ø² ÙÛ•Ø±Ù‡Û•Ù†Ú¯ Ù‚Ø§Ø¯Ø±" }, { id: 'H-24', name: "Ø³Û†Ù„ÛŒÙ† Ù„Ù‚Ù…Ø§Ù† Ù…Ø¸ÙØ±" }, { id: 'H-25', name: " Ø´Ø§Ù‡ÛŒÙ† Ø±ÛŒØ¨Û•Ø± Ù…Ø­Ù…Ø¯ " },
        { id: 'H-26', name: "Ø´Ø§Ù‡ÛŒÙ† Ø²Ø¨ÛŒØ± Ù…Ø­Ù…Ø¯" }, { id: 'H-27', name: "Ø¹Ù„ÛŒ Ù…Ø­Ù…Ø¯ Ø¹Ø¨ÙˆØ¯" }, { id: 'H-28', name: "ØºØ§Ø²ÛŒ Ø¹Ù„ÛŒ ØºØ§Ø²ÛŒ" }, { id: 'H-29', name: "ÙØ§Ø¶Ù„ Ù…Ø­Ù…Ø¯ Ø§Ø­Ù…Ø¯" }, { id: 'H-30', name: "Ú©Ø§Ø±ÛŒÙ† ØºØ§Ø²ÛŒ Ù…ØµØ·ÙÙ‰" },
        { id: 'H-31', name: "Ú¯Û•Ø´Ø¨ÛŒÙ† Ø­ÛŒØ¯Ø± Ø­Ø³ÛŒÙ†" }, { id: 'H-32', name: "Ù…Ø¨ÛŒÙ† Ù†ØµØ±Ø§Ù„Ø¯ÛŒÙ† Ù…Ù„Ø­Ù…" }, { id: 'H-33', name: "Ù…Ø­Ù…Ø¯ Ø¹Ø¨Ø§Ø³ Ø§Ø³Ø¹Ø¯" }, { id: 'H-34', name: "Ù…Ø­Ù…Ø¯ Ø¹Ø«Ù…Ø§Ù† Ø§Ø¨ÙˆØ¨Ú©Ø±" }, { id: 'H-35', name: "Ù…Ø±ÛŒÙ… Ø­Ø°ÛŒÙÛ• Ø¹ÛŒØ³ÛŒ" },
        { id: 'H-36', name: "Ù…ØµØ·ÙÛŒ Ù…Ø­Ù…Ø¯ Ù†Ø§Ù…Ù‚" }, { id: 'H-37', name: "Ù…Ù†ÛŒ Ø­Ø³Ù† Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù†" }, { id: 'H-38', name: "Ù…ÛŒØ±Ø§Ù† ÙÛŒØµÙ„ Ø§Ø­Ù…Ø¯" }, { id: 'H-39', name: "Ù†Ú¤Ø§Ø± Ù†Ø§ØµØ­" }, { id: 'H-40', name: "Ù‡Ø¯ÛŒ Ø§Ø¨ÙˆØ¨Ú©Ø± Ø¯ÛŒÙˆØ§Ù†Û•" },
        { id: 'H-41', name: "Ù‡Û†Ù†ÛŒØ§ Ù‡ÛŒÙ…Ù† Ø®Ø§Ù„Ø¯" }, { id: 'H-42', name: "Ù‡ÛŒÙˆØ§ Ø³Ø±Ø¨Ø³Øª Ù†Ø¨ÛŒ" }, { id: 'H-43', name: "Ù‡Û•Ú˜ÛŒ Ù…Ø­Ø³Ù† Ù‡Ø¯ÛŒÛ• Ø§Ù„Ù„Û•" }, { id: 'H-44', name: "Ù‡Û•Ø³ØªÛŒ Ù‡ÛŒÙˆØ§ Ù„Ø·ÛŒÙ" }, { id: 'H-45', name: "Ù‡Û•Ú¤ÛŒØ§Ø± Ø´ÙˆØ§Ù† Ø­Ø³ÛŒÙ†" },
        { id: 'H-46', name: "ÛŒÙˆÙ‡Ø§Ù† Ù…ÛŒÙ„Ø§Ø¯ Ø¨Ø·Ø±Ø³" }, { id: 'H-47', name: "Ø¦Ø§Ø±Ù…ÙˆØ´ ÙˆØ´ÛŒØ§Ø± ÛŒØ§Ø³ÛŒÙ†" }, { id: 'H-48', name: "Ø¦Ø§Ø±ÛŒ Ù…Ø­Ù…Ø¯ Ø§Ø¨Ø±Ø§Ù‡ÛŒÙ…" }, { id: 'H-49', name: "Ø¦Ø§Ø±ÛØ² Ø·Ø§Ø±Ù‚ Ù†Ø§Ù…Ù‚" }, { id: 'H-50', name: "Ø¦Ø§Ø³ÙˆØ¯Û• Ù‡Û•Ù„Ú¯ÙˆØ±Ø¯ ÙØªØ­ Ø§Ù„Ù„Û•" },
        { id: 'H-51', name: "Ø¦ÛŒÙ…Ø§Ù† ÙØ§Ø®Ø± Ø­Ù…Ø¯" }, { id: 'H-52', name: "Ø¦Û•Ú˜ÛŒÙ† Ú©ÙˆØ³Ø±Øª Ø§Ø³Ù…Ø§Ø¹ÛŒÙ„" }, { id: 'H-53', name: "Ø¦Û•Ù„Û•Ù†Ø¯ Ø¯Ù„Ø´Ø§Ø¯ Ø§Ø­Ù…Ø¯ Ú©Ø±ÛŒÙ…" }, { id: 'H-54', name: "Ø¦Û•Ù„Û•Ù†Ø¯ Ù†Ø²Ø§Ø± Ø¹Ù…Ø±" }, { id: 'H-55', name: "Ø¦Û•Ù„Û•Ù†Ø¯ Ø¦Ø§Ù„Ø§Ù† Ø­ÛŒØ¯Ø±" }
    ]
   
};

// â­ NEW: Student name lookup map for all students
const ALL_STUDENTS_MAP = {};
ALL_GROUPS.forEach(group => {
    STUDENT_DATA_BY_GROUP[group].forEach(student => {
        ALL_STUDENTS_MAP[student.id] = student.name;
    });
});

// â­ NEW: Predefined weeks array
// Week starts on Sunday (day 0) and ends on Saturday (day 6) for these examples.
const ALL_WEEKS = [
    { start: '2025-11-01', end: '2025-11-05', name: 'Week 1' }, // Nov 1 is Saturday. This is a custom week (Sat to Wed)
    { start: '2025-11-06', end: '2025-11-12', name: 'Week 2' }, // Thursday is the 13th
    { start: '2025-11-13', end: '2025-11-19', name: 'Week 3' }, // Thursday is the 20th
    { start: '2025-11-20', end: '2025-11-26', name: 'Week 4' }, // Thursday is the 27th
    { start: '2025-11-27', end: '2025-12-03', name: 'Week 5' }, // Thursday is the 4th
    { start: '2025-12-04', end: '2025-12-10', name: 'Week 6' }, // Thursday is the 11th
    { start: '2025-12-11', end: '2025-12-17', name: 'Week 7' },
    { start: '2025-12-18', end: '2025-12-24', name: 'Week 8' }
];

// â­ NEW: Checkmark SVG for saved attendance
const CHECKMARK_SVG = '<svg class="checkmark-icon" width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M19 7.34189C18.6095 6.95136 17.9763 6.95136 17.5858 7.34189L10.3407 14.587C9.95016 14.9775 9.31699 14.9775 8.92647 14.587L6.38507 12.0456C5.99454 11.6551 5.36138 11.6551 4.97085 12.0456C4.58033 12.4361 4.58033 13.0693 4.97085 13.4598L7.51774 16C8.68969 17.1689 10.5869 17.1677 11.7574 15.9974L19 8.7561C19.3905 8.36558 19.3905 7.73241 19 7.34189Z" fill="#4CAF50"></path> </g></svg>';


const REAL_TODAY_KEY = getFormattedDateKey(new Date());

const FIXED_MAX_DATE_KEY = '2025-12-25';

// â­ MODIFIED: Subjects List now contains all requested subjects.
// Retreive last selected subject, default to first if none is found or if the stored one is no longer valid
let selectedSubject = localStorage.getItem("lastSubject") || ALL_SUBJECTS[0];
if (!ALL_SUBJECTS.includes(selectedSubject)) {
    selectedSubject = ALL_SUBJECTS[0];
}


let selectedGroup = localStorage.getItem("lastGroup") || ALL_GROUPS[0];

// The true current date, capped by FIXED_MAX_DATE_KEY
let initialDateKey = (REAL_TODAY_KEY > FIXED_MAX_DATE_KEY) ? FIXED_MAX_DATE_KEY : REAL_TODAY_KEY;

// ğŸ›‘ START OF DATE FIX ğŸ›‘
let lastTappedDateKey = localStorage.getItem("lastDateKey");
let activeDateKey;

// Check if the date saved in storage matches the current day key.
if (lastTappedDateKey === initialDateKey) {
    // If yes, keep the date from local storage (it's the current date, potentially re-selected by the user)
    activeDateKey = lastTappedDateKey;
} else {
    // If no (it's a new day, or no date is stored), force it to today.
    activeDateKey = initialDateKey;
}

// Ensure the lastDateKey is always updated with the date being displayed/used.
localStorage.setItem("lastDateKey", activeDateKey);
// ğŸ›‘ END OF DATE FIX ğŸ›‘

// â­ MODIFIED GLOBAL VARIABLE: Tracks the active filter state for saved attendances
let activeFilter = 'total'; // 'total', 'present', 'absent', 'unmarked'

// â­ NEW GLOBAL VARIABLE: Tracks the selected feature box: 'subject', 'group', or 'absents'
let activeFeatureBox = localStorage.getItem("lastFeatureBox") || 'subject'; // Default to subject

// â­ NEW GLOBAL VARIABLE: Tracks which main view is currently active.
let activeView = 'main'; // 'main' or 'absentsHistory'


/* --- HELPER FUNCTIONS & HISTORY SETUP (MODIFIED) --- */
function getFormattedDateKey(date) {
    // Returns ISO format: YYYY-MM-DD
    return date.toISOString().split('T')[0];
}

/**
 * Generates the full date name (e.g., 'Tuesday, December 9, 2025').
 * @param {string} dateKey - The date string in YYYY-MM-DD format.
 * @returns {string} The full display date string.
 */
function getDisplayDate(dateKey) {
    const dateObj = new Date(dateKey + 'T00:00:00'); 
    const localOptions = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
    return dateObj.toLocaleDateString('en-US', localOptions);
}

/**
 * Generates the abbreviated date name (e.g., 'Tue, Dec 9, 2025').
 * â­ MODIFIED TO ABBREVIATE THE MONTH AND DAY, NOT THE WEEKDAY.
 * @param {string} dateKey - The date string in YYYY-MM-DD format.
 * @returns {string} The abbreviated display date string.
 */
function getAbbreviatedDate(dateKey) {
    const dateObj = new Date(dateKey + 'T00:00:00'); 
    const options = { 
        year: 'numeric', 
        month: 'short', 
        day: 'numeric', 
        weekday: 'long' 
    };
    // Format: 'Tuesday, Dec 9, 2025'
    let dateString = dateObj.toLocaleDateString('en-US', options);
    
    return dateString; // Return the standard formatted string which now uses 'weekday: long' and 'month: short'
}

function isOffDay(dateKey) {
    const dateObj = new Date(dateKey + 'T00:00:00');
    const day = dateObj.getDay(); 
    // Thursday is 4, Friday is 5.
    return day === 4 || day === 5; 
}


function showStatusMessage(message, isOffDay = false) {
    const messageClass = isOffDay ? "off-day-message" : "message-center";
    document.getElementById("studentsList").innerHTML = `<div class="${messageClass}">${message}</div>`;
    // Clear stats when showing a status message
    document.getElementById("totalStudentsCount").innerText = 'â€”';
    document.getElementById("presentCount").innerText = 'â€”';
    document.getElementById("absentCount").innerText = 'â€”';
    document.getElementById("unmarkedCount").innerText = 'â€”';
    
    // â­ NEW: Clear active filter highlight when showing a status message
    document.querySelectorAll('#summaryStats .stat-card').forEach(card => card.classList.remove('active-filter'));
    activeFilter = 'total';
}

function selectDate(dateKey) {
    activeDateKey = dateKey;
    localStorage.setItem("lastDateKey", dateKey);
    
    // Switch to main view first
    showView('main');
    
    // â­ MODIFIED: Use getAbbreviatedDate for the display in the header
    document.getElementById("dateDisplay").innerText = getAbbreviatedDate(dateKey);
    
    document.getElementById("dateDropdownList").style.display = "none";
    
    const dateContainer = document.getElementById("dateContainer");
    dateContainer.classList.remove("off-day-display"); 
    
    // â­ NEW: Reset filter when changing date
    activeFilter = 'total';
    
    if (isOffDay(activeDateKey)) {
        dateContainer.classList.add("off-day-display");
        
        document.getElementById("statusMessage").innerHTML = "";
        document.querySelector(".saveBtn").disabled = true;
        document.querySelector(".saveBtn").innerText = "CANNOT SAVE (OFF DAY)";
        showStatusMessage(".Off day", true);
        return;
    }

    if (activeDateKey > REAL_TODAY_KEY) {
        document.getElementById("statusMessage").innerHTML = "";
        document.querySelector(".saveBtn").disabled = true;
        document.querySelector(".saveBtn").innerText = "CANNOT SAVE (FUTURE DATE)";
        showStatusMessage("...Waiting for the date");
        return;
    }

    loadAttendance();
    generateDateDropdownOptions(); 
    initializeGroups(); // â­ ADDED: Update group list to show/hide checkmark based on new date
    initializeSubjects(); // â­ ADDED: Update subject list to show/hide checkmark based on new date
}

function toggleDateDropdown() {
    const box = document.getElementById("dateDropdownList");
    // Close other dropdowns
    document.getElementById("groupsList").style.display = "none";
    document.getElementById("subjectsList").style.display = "none";
    box.style.display = box.style.display === "block" ? "none" : "block";
}

function generateDateDropdownOptions() {
    const list = document.getElementById("dateDropdownList");
    list.innerHTML = "";

    const startDate = new Date('2025-11-02T00:00:00');
    const endDate = new Date(FIXED_MAX_DATE_KEY + 'T00:00:00');
    const datesToShow = new Set();

    let currentDate = new Date(startDate);
    while (currentDate <= endDate) {
        datesToShow.add(getFormattedDateKey(currentDate));
        currentDate.setDate(currentDate.getDate() + 1);
    }
    

    const sortedDates = Array.from(datesToShow).sort().reverse();

    sortedDates.forEach(dateKey => {
        const isSelected = dateKey === activeDateKey;
        const isHoliday = isOffDay(dateKey);

        const div = document.createElement("div");
        div.className = "date-option";
        if (isSelected) {
            div.classList.add("selected");
        }
        if (isHoliday) {
            div.classList.add("off-day-text"); 
        }
        
        // â­ MODIFIED: Use getAbbreviatedDate for dropdown options
        div.innerText = getAbbreviatedDate(dateKey); 

        div.onclick = (e) => {
            e.stopPropagation();
            selectDate(dateKey);
        };
        list.appendChild(div);
    });
}

const HISTORY_KEYS_STORAGE = 'ATTENDANCE_HISTORY_KEYS';

function getAttendanceDataKey(dateKey = activeDateKey, subject = selectedSubject, group = selectedGroup) {
    // Use subject name in the key to ensure separation
    return `ATTENDANCE_${dateKey}_${subject.replace(/\s/g, '-')}_${group.replace(' ', '')}`;
}

function getAttendanceData(dateKey = activeDateKey, subject = selectedSubject, group = selectedGroup) {
    const key = getAttendanceDataKey(dateKey, subject, group);
    const data = JSON.parse(localStorage.getItem(key));
    return data;
}

function saveAttendanceStatuses(statuses, locked = false, dateKey = activeDateKey) {
    const key = getAttendanceDataKey(dateKey);
    const data = { statuses, locked, date: dateKey, subject: selectedSubject, group: selectedGroup };
    localStorage.setItem(key, JSON.stringify(data));
}
function closeHistoryView() {
    // 1. Show the main view
    showView('main');
    
    // 2. Reset the highlighted box back to 'Subject' (Default)
    setActiveFeatureBox('subject');
    
    // 3. Ensure dropdowns are closed
    document.getElementById("groupsList").style.display = "none";
    document.getElementById("subjectsList").style.display = "none";
}


function recordAttendanceKey(key) {
    let history = JSON.parse(localStorage.getItem(HISTORY_KEYS_STORAGE)) || [];
    if (!history.includes(key)) {
        history.push(key);
        history.sort();
        localStorage.setItem(HISTORY_KEYS_STORAGE, JSON.stringify(history));
    }
}

/**
 * â­ NEW UTILITY FUNCTION: Retrieves all locked attendance records.
 * @returns {Array<Object>} An array of attendance data objects.
 */
function getAttendanceHistory() {
    const historyKeys = JSON.parse(localStorage.getItem(HISTORY_KEYS_STORAGE)) || [];
    const historyData = [];

    historyKeys.forEach(key => {
        const data = JSON.parse(localStorage.getItem(key));
        if (data && data.locked) {
            historyData.push(data);
        }
    });

    return historyData;
}


/* --- VIEW SWITCHING --- */
function showView(viewName) {
    activeView = viewName;
    const mainView = document.getElementById('mainAttendanceView');
    const historyView = document.getElementById('absentsHistoryView');
    
    if (viewName === 'main') {
        mainView.classList.remove('hidden');
        historyView.style.display = 'none';
    } else if (viewName === 'absentsHistory') {
        mainView.classList.add('hidden');
        historyView.style.display = 'block';
    }
}


/* --- SUBJECT & GROUP & ABSENTS SYSTEM (Modified) --- */

/**
 * Updates the visual state of the feature boxes.
 * @param {string} newActiveBox - 'subject', 'group', or 'absents'.
 */
function setActiveFeatureBox(newActiveBox) {
    activeFeatureBox = newActiveBox;
    localStorage.setItem("lastFeatureBox", newActiveBox);
    // Remove highlight from all boxes
    document.getElementById('subjectBox').style.border = '';
    document.getElementById('groupBox').style.border = '';
    
    // â­ MODIFIED: Use a dedicated class for the absents box border
    document.getElementById('absentsBox').classList.remove('active-box-red-border');

    // Apply highlight to the active box
    if (newActiveBox === 'subject') {
        document.getElementById('subjectBox').style.border = `2px solid var(--primary-color)`;
    } else if (newActiveBox === 'group') {
        document.getElementById('groupBox').style.border = `2px solid var(--primary-color)`;
    } else if (newActiveBox === 'absents') {
        // â­ MODIFIED: Apply the red border class
        document.getElementById('absentsBox').classList.add('active-box-red-border');
    }
}


// â­ MODIFIED FUNCTION: Toggles the "Absents" Box - NOW shows the history page
function toggleAbsents() {
    // Close other dropdowns
    document.getElementById("dateDropdownList").style.display = "none";
    document.getElementById("subjectsList").style.display = "none";
    document.getElementById("groupsList").style.display = "none";

    // Set the absents box as active
    setActiveFeatureBox('absents');
    
    // Switch to the history view and render content
    showAbsentStudentsHistory();
}

// â­ NEW FUNCTION: Renders the Absent Students History Page
function showAbsentStudentsHistory() {
    showView('absentsHistory');
    const historyContent = document.getElementById('weeklyAbsentsContent');
    historyContent.innerHTML = '';
    
    // Get all past weeks up to (but not including) the week containing the current day
    const today = new Date(initialDateKey + 'T00:00:00');
    let hasPastWeek = false;

    // We iterate over weeks in reverse order (most recent first)
    for (let i = ALL_WEEKS.length - 1; i >= 0; i--) {
        const week = ALL_WEEKS[i];
        const weekEnd = new Date(week.end + 'T00:00:00');

        // Only display if the week has already passed (end date is before today)
        if (weekEnd < today) {
            hasPastWeek = true;
            
            // Collect absent students for this week
            const weeklyAbsents = getWeeklyAbsentStudents(week.start, week.end);
            
            const card = document.createElement('div');
            card.className = 'weekly-card';
            card.onclick = () => toggleWeeklyCard(card);
            
            const header = document.createElement('div');
            header.className = 'weekly-card-header';
            
            const absentCount = weeklyAbsents.size;
            
            // Format the week range (e.g., Nov 1, 2025 - Nov 5, 2025)
            const startDisplay = new Date(week.start + 'T00:00:00').toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            const endDisplay = new Date(week.end + 'T00:00:00').toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            
            header.innerHTML = `
                <span>${week.name} (${startDisplay} - ${endDisplay})</span>
                <span style="color: var(--absent-color);">${absentCount} Absent Student(s)</span>
            `;
            
            card.appendChild(header);
            
            const details = document.createElement('div');
            details.className = 'weekly-card-details';
            details.id = `details_${week.start}`;
            
            if (absentCount === 0) {
                 details.innerHTML = '<strong>No absent students recorded for this week.</strong>';
            } else {
                 const studentListHTML = Array.from(weeklyAbsents).map(([studentId, data]) => {
                     // The student name is already in ALL_STUDENTS_MAP
                     const studentName = ALL_STUDENTS_MAP[studentId] || 'Unknown Student';
                     
                     // Create a list of contexts (Date/Group/Subject)
                     const contextList = data.map(d => 
                         `${getAbbreviatedDate(d.date).split(',')[0]} / ${d.group.replace('Group ', '')} / ${d.subject.split(' ')[0]}`
                     ).join('; ');
                     
                     return `
                        <li>
                            <span class="student-name">${studentName}</span>
                            <span class="student-context">(${contextList})</span>
                        </li>
                     `;
                 }).join('');
                 
                 details.innerHTML = `
                    <p><strong>Total Unique Absent Students: ${absentCount}</strong></p>
                    <ul class="absent-students-list-inner">${studentListHTML}</ul>
                 `;
            }
            
            card.appendChild(details);
            historyContent.appendChild(card);
        }
    }
    
    if (!hasPastWeek) {
         historyContent.innerHTML = `<div class='message-center' style='padding-top: 10px;'>No past weeks with saved attendance found.</div>`;
    }
}

/**
 * â­ NEW UTILITY FUNCTION: Retrieves all unique absent students and their contexts (date, group, subject)
 * for a given week.
 * @param {string} startDate - Start date of the week (YYYY-MM-DD).
 * @param {string} endDate - End date of the week (YYYY-MM-DD).
 * @returns {Map<string, Array<{date: string, group: string, subject: string}>>} Map of studentId to an array of contexts.
 */
function getWeeklyAbsentStudents(startDate, endDate) {
    const allHistory = getAttendanceHistory();
    const absentStudentsMap = new Map(); // Map of studentId -> Array of {date, group, subject}
    
    const start = new Date(startDate + 'T00:00:00');
    const end = new Date(endDate + 'T00:00:00');

    allHistory.forEach(data => {
        const recordDate = new Date(data.date + 'T00:00:00');

        // Check if the record is within the specified week range (inclusive)
        if (recordDate >= start && recordDate <= end) {
            
            // Check all statuses for absentees in this specific record
            for (const [studentId, status] of Object.entries(data.statuses)) {
                if (status === 'absent') {
                    // Create context object
                    const context = {
                        date: data.date,
                        group: data.group,
                        subject: data.subject
                    };
                    
                    // Add context to the map
                    if (absentStudentsMap.has(studentId)) {
                        absentStudentsMap.get(studentId).push(context);
                    } else {
                        absentStudentsMap.set(studentId, [context]);
                    }
                }
            }
        }
    });

    return absentStudentsMap;
}

/**
 * â­ NEW FUNCTION: Toggles the details of a weekly card.
 * @param {HTMLElement} card - The card element to toggle.
 */
function toggleWeeklyCard(card) {
    const details = card.querySelector('.weekly-card-details');
    if (details) {
        // Close all other open details
        document.querySelectorAll('.weekly-card-details').forEach(d => {
            if (d !== details) {
                d.style.display = 'none';
            }
        });

        // Toggle the clicked one
        details.style.display = details.style.display === 'block' ? 'none' : 'block';
    }
}



function getStudentsForGroup(group) {
    return STUDENT_DATA_BY_GROUP[group] || [];
}

// â­ NEW UTILITY FUNCTION for Subject checkmark: Checks all groups for the subject/date
function isSubjectAttendanceSaved(dateKey, subject) {
    for (const group of ALL_GROUPS) {
        const key = getAttendanceDataKey(dateKey, subject, group);
        const data = JSON.parse(localStorage.getItem(key));
        if (data && data.locked) {
            return true; // Found at least one saved/locked group
        }
    }
    return false; // No saved/locked groups found for this subject/date
}


// â­ MODIFIED FUNCTION: Initialize and populate the subject display AND dropdown options
function initializeSubjects() {
    const list = document.getElementById("subjectsList");
    list.innerHTML = "";
    
    // Create options for all subjects
    ALL_SUBJECTS.forEach(subject => {
        
        // â­ NEW: Check if attendance is saved for this subject
        const isSaved = isSubjectAttendanceSaved(activeDateKey, subject);
        
        const div = document.createElement("div");
        div.className = "selector-option";
        
        // Span to hold the subject name
        let subjectNameSpan = document.createElement("span");
        subjectNameSpan.innerText = subject;
        // â­ NEW: Add LTR direction to subject name for display consistency
        subjectNameSpan.style.direction = "ltr";
        subjectNameSpan.style.textAlign = "right";
        div.appendChild(subjectNameSpan);

        // â­ MODIFIED: Insert the checkmark or a hidden placeholder
        if (isSaved) {
             div.insertAdjacentHTML('beforeend', CHECKMARK_SVG);
        } else {
             // Add an empty placeholder to maintain consistent alignment/spacing
             div.insertAdjacentHTML('beforeend', `<div class="checkmark-icon" style="visibility: hidden;"></div>`);
        }
        

        div.onclick = (e) => { e.stopPropagation(); selectSubject(subject); };
        if (subject === selectedSubject) {
            div.style.fontWeight = 'bold'; // Highlight selected option
        }
        list.appendChild(div);
    });
    
    // Set the display text.
    document.getElementById("selectedSubjectText").innerText = selectedSubject;
    
    // Ensure the box is clickable now
    document.getElementById("subjectBox").style.cursor = 'pointer';
    
    // Apply highlight if this is the active feature box
    if (activeFeatureBox === 'subject') {
        document.getElementById('subjectBox').style.border = `2px solid var(--primary-color)`;
    }
}

// â­ MODIFIED FUNCTION: Toggle the subject dropdown visibility (NOW FUNCTIONAL)
function toggleSubjects() {
    // Switch to main view
    showView('main');
    
    const box = document.getElementById("subjectsList");
    // Before showing the list, ensure checkmarks are updated for the current date/subject
    initializeSubjects(); 
    
    // Close other dropdowns
    document.getElementById("dateDropdownList").style.display = "none";
    document.getElementById("groupsList").style.display = "none"; 
    
    setActiveFeatureBox('subject');
    box.style.display = box.style.display === "block" ? "none" : "block";
}

// â­ NEW FUNCTION: Select the subject
function selectSubject(subject) {
    const oldSubject = selectedSubject;
    selectedSubject = subject;
    document.getElementById("selectedSubjectText").innerText = subject;
    localStorage.setItem("lastSubject", subject);
    document.getElementById("subjectsList").style.display = "none";
    
    // Re-initialize to update options list highlighting and feature box highlight
    initializeSubjects();
    
    // â­ IMPORTANT: Re-initialize groups list to update checkmarks with the new subject
    initializeGroups(); 
    
    // â­ NEW: Reset filter and reload attendance on subject change
    activeFilter = 'total';
    
    // Only reload if the subject actually changed
    if (oldSubject !== subject) {
        if (isOffDay(activeDateKey) || activeDateKey > REAL_TODAY_KEY) {
            selectDate(activeDateKey); 
            return;
        }
        loadAttendance();
        document.getElementById("statusMessage").innerHTML = "";
    }
}


function initializeGroups() {
    const list = document.getElementById("groupsList");
    list.innerHTML = "";
    ALL_GROUPS.forEach(group => {
        // Check if attendance is saved/locked for this group, date, and subject
        const attendanceData = getAttendanceData(activeDateKey, selectedSubject, group);
        const isLockedAndSaved = attendanceData && attendanceData.locked;

        const div = document.createElement("div");
        div.className = "selector-option";
        
        // Span to hold the group name (and take up space)
        let groupNameSpan = document.createElement("span");
        groupNameSpan.innerText = group;
        // â­ NEW: Add LTR direction and right align so text flows correctly 
        // and stays on the right side of the item.
        groupNameSpan.style.direction = "ltr";
        groupNameSpan.style.textAlign = "right"; 
        div.appendChild(groupNameSpan);
        
        // â­ NEW: Insert the icon or a hidden placeholder *after* the span.
        // Due to `flex-direction: row-reverse`, this will be rendered on the left.
        if (isLockedAndSaved) {
            div.insertAdjacentHTML('beforeend', CHECKMARK_SVG);
        } else {
             // Add an empty placeholder to maintain consistent alignment/spacing
             div.insertAdjacentHTML('beforeend', `<div class="checkmark-icon" style="visibility: hidden;"></div>`);
        }
        
        div.onclick = (e) => { e.stopPropagation(); selectGroup(group); };
        if (group === selectedGroup) {
            div.style.fontWeight = 'bold'; // Highlight selected option
        }
        list.appendChild(div);
    });
    document.getElementById("selectedGroupText").innerText = selectedGroup;
    
    // Apply highlight if this is the active feature box
    if (activeFeatureBox === 'group') {
        document.getElementById('groupBox').style.border = `2px solid var(--primary-color)`;
    }
}

function toggleGroups() {
    // Switch to main view
    showView('main');
    
    const box = document.getElementById("groupsList");
    // Before showing the list, ensure checkmarks are updated for the current date/subject
    initializeGroups(); 
    
    document.getElementById("dateDropdownList").style.display = "none";
    document.getElementById("subjectsList").style.display = "none"; 
    
    setActiveFeatureBox('group');
    box.style.display = box.style.display === "block" ? "none" : "block";
}

function selectGroup(group) {
    
    showView('main');
    
    const oldGroup = selectedGroup;
    selectedGroup = group;
    document.getElementById("selectedGroupText").innerText = group;
    localStorage.setItem("lastGroup", group);
    document.getElementById("groupsList").style.display = "none";
    
  
    initializeGroups();
    
  
    activeFilter = 'total';

    if (oldGroup !== group) {
        if (isOffDay(activeDateKey) || activeDateKey > REAL_TODAY_KEY) {
            selectDate(activeDateKey); 
            return;
        }
        loadAttendance();
        document.getElementById("statusMessage").innerHTML = "";
    }
}



/**
 * Filters the displayed students based on attendance status.
 * This is only active for locked records.
 * @param {string} filterType - 'total', 'present', 'absent', or 'unmarked'.
 */
function filterStudents(filterType) {
    const storedData = getAttendanceData();
    if (!storedData || !storedData.locked) {
    
        return;
    }

    const currentStudents = getStudentsForGroup(selectedGroup);
    const statuses = storedData.statuses;
    
    if (activeFilter === filterType && filterType !== 'total') {
        return; 
    }
    
    
    activeFilter = filterType;
    
    
    if (filterType === 'total') {
        loadAttendance(); 
        return;
    }
    
    applyFilter(activeFilter, currentStudents, statuses);
}

/**
 * Applies the filtering logic to the student list display.
 * @param {string} filterType - 'total', 'present', 'absent', or 'unmarked'.
 * @param {Array<Object>} students - The list of all students in the group.
 * @param {Object} statuses - The saved attendance statuses.
 */
function applyFilter(filterType, students, statuses) {
    const list = document.getElementById("studentsList");
    const statCards = document.querySelectorAll('#summaryStats .stat-card');
    const statusDiv = document.getElementById("statusMessage");
    
  
    statCards.forEach(card => card.classList.remove('active-filter'));
    

    document.querySelector(`.stat-${filterType}`).classList.add('active-filter');

    
    statusDiv.innerHTML = '';
    
  
    list.innerHTML = "";
    
    let filteredStudents = [];
    const filterMap = {
        'present': ['present'],
        'absent': ['absent'],
        'unmarked': ['none']
    };
    
    const allowedStatuses = filterMap[filterType];
    
    
    students.forEach(s => {
        const status = statuses[s.id] || "none";
        
        if (allowedStatuses.includes(status)) {
      
            
            let row = document.createElement("div");
            
            row.className = `student-row locked-row read-only-filter ${status === "present" ? "present" : status === "absent" ? "absent" : "unmarked"}`;
            row.id = "row_" + s.id;

            let name = document.createElement("span");
            name.innerText = s.name;
            
          

            row.appendChild(name);
            row.appendChild(document.createElement("div")); 

            list.appendChild(row);
            
            filteredStudents.push(s);
        }
    });

    if (filteredStudents.length === 0) {
        let message = "";
        
        if (filterType === 'present') {
            message = "No Present students";
        } else if (filterType === 'absent') {
            message = "No Absent students";
        } else if (filterType === 'unmarked') {
            message = "No Unmarked students";
        }
        
        
        list.innerHTML = `<div class='list-message-center'><div class='filter-message'>${message}</div></div>`;
        statusDiv.innerHTML = ""; 
    } else {
         statusDiv.innerHTML = `<div class='lockedMessage'>.Displaying ${filterType.charAt(0).toUpperCase() + filterType.slice(1)} students only</div>`;
    }
}



function calculateStats(attendanceData, currentStudents) {
    const statuses = attendanceData ? attendanceData.statuses : {};
    let present = 0;
    let absent = 0;
    let unmarked = 0;

    currentStudents.forEach(s => {
        const status = statuses[s.id] || "none";
        if (status === "present") {
            present++;
        } else if (status === "absent") {
            absent++;
        } else {
            unmarked++;
        }
    });

    document.getElementById("totalStudentsCount").innerText = currentStudents.length;
    document.getElementById("presentCount").innerText = present;
    document.getElementById("absentCount").innerText = absent;
    document.getElementById("unmarkedCount").innerText = unmarked;

    const isToday = activeDateKey === initialDateKey; 
    const isLocked = attendanceData ? attendanceData.locked : false;
    const saveBtn = document.querySelector(".saveBtn");
    const statusDiv = document.getElementById("statusMessage");
    const statCards = document.querySelectorAll('#summaryStats .stat-card');

    if (isOffDay(activeDateKey) || activeDateKey > REAL_TODAY_KEY) {
        saveBtn.disabled = true;
        saveBtn.innerText = isOffDay(activeDateKey) ? "CANNOT SAVE (OFF DAY)" : "CANNOT SAVE (FUTURE DATE)";
        statCards.forEach(card => card.classList.remove('stat-card-clickable', 'active-filter'));
        return;
    }
    
    
    if (isLocked) {
        statCards.forEach(card => card.classList.add('stat-card-clickable'));
    } else {
      
        statCards.forEach(card => card.classList.remove('stat-card-clickable', 'active-filter'));
        activeFilter = 'total'; 
    }
    
    
    document.querySelectorAll('#summaryStats .stat-card').forEach(card => card.classList.remove('active-filter'));
    if (isLocked && activeFilter !== 'total') {
        document.querySelector(`.stat-${activeFilter}`).classList.add('active-filter');
    } else if (isLocked && activeFilter === 'total') {
        
        document.querySelector('.stat-total').classList.add('active-filter');
    }


    if (isToday) {
        saveBtn.disabled = isLocked;
        saveBtn.innerText = isLocked ? "ATTENDANCE SAVED" : "SAVE ATTENDANCE";
        statusDiv.innerHTML = isLocked ? "<div class='lockedMessage'>.Attendance locked</div>" : "";
    } else {
        saveBtn.disabled = true;
        saveBtn.innerText = isLocked ? "VIEWING LOCKED HISTORY" : "CANNOT SAVE (VIEWING PAST DATE)";
      
        statusDiv.innerHTML = isLocked ? `<div class='lockedMessage'>ğŸ”’ Viewing locked record for ${getAbbreviatedDate(activeDateKey)}.</div>` : "";
    }
}

function loadAttendance() {
    if (isOffDay(activeDateKey) || activeDateKey > REAL_TODAY_KEY) {
        showStatusMessage(isOffDay(activeDateKey) ? "Off day" : "...Waiting for the date", isOffDay(activeDateKey));
        return;
    }

    const currentStudents = getStudentsForGroup(selectedGroup);
    const storedData = getAttendanceData(); 
    const attendanceData = storedData || { statuses: {}, locked: false, date: initialDateKey, subject: selectedSubject, group: selectedGroup };

    
    if (storedData === null && activeDateKey !== initialDateKey) {
        showStatusMessage(".No saved records for this group");
        document.getElementById("statusMessage").innerHTML = "";
        document.querySelector(".saveBtn").disabled = true;
        document.querySelector(".saveBtn").innerText = "CANNOT SAVE (PAST DATE)";
        calculateStats(null, currentStudents); 
        return;
    }
    
  
    if (attendanceData.locked && activeFilter !== 'total') {
        calculateStats(attendanceData, currentStudents);
        
        applyFilter(activeFilter, currentStudents, attendanceData.statuses);
        return;
    }


    const statuses = attendanceData.statuses;
    const isLocked = attendanceData.locked;
    const isToday = activeDateKey === initialDateKey;

    const list = document.getElementById("studentsList");
    list.innerHTML = ""; 
    
    
    if (!isLocked) {
        activeFilter = 'total';
    }


    currentStudents.forEach(s => {
        let status = statuses[s.id] || "none";

        let row = document.createElement("div");
        row.className = "student-row";
        row.id = "row_" + s.id;

        const readOnly = isLocked || !isToday;
        
        if (readOnly) row.classList.add("locked-row");

        if (status === "present") row.classList.add("present");
        else if (status === "absent") row.classList.add("absent");
        else if (status === "none" && readOnly) row.classList.add("unmarked"); 

        let name = document.createElement("span");
        name.innerText = s.name;

        if (isToday && !isLocked) {
             name.style.cursor = "pointer";
             name.onclick = () => {
                 resetStatus(s.id);
             };
        }

        let buttons = document.createElement("div");
        buttons.onclick = (e) => e.stopPropagation();

        let presentBtn = document.createElement("button");
        presentBtn.className = "btn present-btn";
        presentBtn.innerText = "Present";
        presentBtn.disabled = readOnly;
        presentBtn.onclick = () => setStatus(s.id, "present");

        let absentBtn = document.createElement("button");
        absentBtn.className = "btn absent-btn";
        absentBtn.innerText = "Absent";
        absentBtn.disabled = readOnly;
        absentBtn.onclick = () => setStatus(s.id, "absent");

        buttons.appendChild(presentBtn);
        buttons.appendChild(absentBtn);

        row.appendChild(name);
        row.appendChild(buttons);

        list.appendChild(row);
    });

    calculateStats(attendanceData, currentStudents);
}


function setStatus(id, status) {
    if (activeDateKey !== initialDateKey || isOffDay(activeDateKey)) return;

    const attendanceData = getAttendanceData(initialDateKey) || { statuses: {}, locked: false, date: initialDateKey, subject: selectedSubject, group: selectedGroup };

    if (attendanceData.locked) return alert("âš ï¸ Attendance for today is locked and cannot be modified.");

    attendanceData.statuses[id] = status;
    saveAttendanceStatuses(attendanceData.statuses, attendanceData.locked, initialDateKey);
    loadAttendance();
}

function resetStatus(id) {
    if (activeDateKey !== initialDateKey || isOffDay(activeDateKey)) return;

    const attendanceData = getAttendanceData(initialDateKey) || { statuses: {}, locked: false, date: initialDateKey, subject: selectedSubject, group: selectedGroup };

    if (attendanceData.locked) return;

    attendanceData.statuses[id] = "none";
    saveAttendanceStatuses(attendanceData.statuses, false, initialDateKey);
    loadAttendance();
}


function saveAttendance() {
  
    if (activeDateKey !== initialDateKey) {
        alert("Cannot save or lock attendance for a historical or non-current date.");
        return;
    }
    if (isOffDay(activeDateKey)) {
        alert("Cannot save or lock attendance on an off day (Thursday/Friday).");
        return;
    }

    const currentStudents = getStudentsForGroup(selectedGroup);
    const attendanceData = getAttendanceData(initialDateKey) || { statuses: {}, locked: false, date: initialDateKey, subject: selectedSubject, group: selectedGroup };

    const stats = { present: 0, absent: 0, unmarked: 0 };
    currentStudents.forEach(s => {
        const status = attendanceData.statuses[s.id] || "none";
        if (status === "present") stats.present++;
        else if (status === "absent") stats.absent++;
        else stats.unmarked++;
    });

    let confirmMessage;
    if (stats.unmarked > 0) {
        confirmMessage = `You have ${stats.unmarked} students whose attendance is not marked in ${selectedGroup}.\nAre you sure you want to save and lock the attendance with unmarked students?`;
    } else {
        confirmMessage = "All students are marked (Present/Absent).\nDo you want to finalize and lock the attendance record for today?";
    }






    if (!confirm(confirmMessage)) return;

    saveAttendanceStatuses(attendanceData.statuses, true, initialDateKey);

    const keyToRecord = getAttendanceDataKey(initialDateKey);
    recordAttendanceKey(keyToRecord);

    generateDateDropdownOptions();
    initializeGroups(); 
    initializeSubjects(); 

    loadAttendance();
}


document.addEventListener('DOMContentLoaded', () => { 
    generateDateDropdownOptions();
    
    
    initializeSubjects(); 
    initializeGroups();
    setActiveFeatureBox(activeFeatureBox);
    selectDate(activeDateKey); 
    
}); 
</script>
 </body></html>
